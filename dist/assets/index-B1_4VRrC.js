import{af as be,r as l,j as e,J as Ze,X as R,f as Bt,u as Rt,a as Wt,S as Gt,M as Ut,V as Vt,b as G,l as U,P as q,B as E,I as W,T as S,U as Qe,D as se,d as ke,e as we,s as Ae,z as et,a5 as tt,$ as Q,c as Ht,i as Yt}from"./index-CR13SSJV.js";import{T as re}from"./TextInput-DGYBhMvL.js";import{I as Xt,u as qt,a as Jt}from"./getItem-DhB8Fqzy.js";import{I as at}from"./IconAdjustments-whP-kNKN.js";import{S as le}from"./Select-BflmVssB.js";import{S as $}from"./Skeleton-BlPHqkL2.js";import{I as Zt}from"./IconTrash-_E9_ZASW.js";import{u as st,C as Qt}from"./CategorySkeleton-_wWbzsQ5.js";import{u as rt}from"./use-form-CwQpyhvo.js";import{I as ea,b as ta}from"./getIncomingDetail-CEsjVgBf.js";import{I as aa,b as sa}from"./getOutgoingDetail-TVqG-VP4.js";import{ak as nt,f as K,x as it,I as ra,al as na,k as Ie,L as J,T as Ne,X as Pe,V as ot,W as lt,Y as ia,a2 as We,am as ct,Z as Ge,_ as oa,v as la,C as ca,l as da,n as ua,o as dt,r as ma,q as pa,an as ha,p as fa,t as xa,ao as ga,ap as ut,B as va,G as ya,z as Ue,aq as Ve,K as ja,A as ba,ar as X,j as Z,P as ka,as as xe,O as wa,a6 as ne,H as Aa,a7 as Ia,a8 as Na,a9 as Pa,aa as Ca,ab as Sa,ac as Da,ag as za,ad as Ea,ae as ge,af as He,ah as La,ai as Oa,aj as mt}from"./grid-chart.module.css-bEqi_-uE.js";import{I as ce}from"./IconChevronLeft-tQiKy0Uz.js";import{I as Ta}from"./IconPlus-C3p930t3.js";import{T as _a}from"./Textarea-BgwC7-E5.js";import{N as Ka}from"./NumberInput-DQbxcJWA.js";import{D as Ma}from"./DatePickerInput-DrZ0lhkS.js";import"./InputBase-DNivpRap.js";import"./Input-BhoscLTx.js";import"./CheckIcon-GB-FFuSo.js";import"./use-dates-state-DwaIoisb.js";import"./use-dates-input-BXq-wchz.js";import"./DatePicker-C9FTLYhy.js";function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},ye.apply(null,arguments)}var pt=t=>{var{cx:a,cy:s,r,className:i}=t,n=be("recharts-dot",i);return a===+a&&s===+s&&r===+r?l.createElement("circle",ye({},K(t,!1),nt(t),{className:n,cx:a,cy:s,r})):null};function Ye(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function Xe(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ye(Object(s),!0).forEach(function(r){Fa(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ye(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function Fa(t,a,s){return(a=$a(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function $a(t){var a=Ba(t,"string");return typeof a=="symbol"?a:a+""}function Ba(t,a){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Ra=t=>{var{point:a,childIndex:s,mainColor:r,activeDot:i,dataKey:n}=t;if(i===!1||a.x==null||a.y==null)return null;var d=Xe(Xe({index:s,dataKey:n,cx:a.x,cy:a.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},K(i,!1)),nt(i)),o;return l.isValidElement(i)?o=l.cloneElement(i,d):typeof i=="function"?o=i(d):o=l.createElement(pt,d),l.createElement(J,{className:"recharts-active-dot"},o)};function qe(t){var{points:a,mainColor:s,activeDot:r,itemDataKey:i}=t,n=it(ra),d=na();if(a==null||d==null)return null;var o=a.find(c=>d.includes(c.payload));return Ie(o)?null:Ra({point:o,childIndex:Number(n),mainColor:s,dataKey:i,activeDot:r})}var ht=(t,a,s,r)=>ot(t,"xAxis",a,r),ft=(t,a,s,r)=>lt(t,"xAxis",a,r),xt=(t,a,s,r)=>ot(t,"yAxis",s,r),gt=(t,a,s,r)=>lt(t,"yAxis",s,r),Wa=Ne([Pe,ht,xt,ft,gt],(t,a,s,r,i)=>ct(t,"xAxis")?Ge(a,r,!1):Ge(s,i,!1)),Ga=(t,a,s,r,i)=>{var n,d=Pe(t),o=ct(d,"xAxis"),c;if(o?c=We(t,"yAxis",s,r):c=We(t,"xAxis",a,r),c!=null){var{dataKey:m,stackId:f}=i;if(f!=null){var x=(n=c[f])===null||n===void 0?void 0:n.stackedData;return x==null?void 0:x.find(u=>u.key===m)}}},Ua=(t,a,s,r,i)=>i,Va=Ne([oa,Ua],(t,a)=>{if(t.some(s=>s.type==="area"&&a.dataKey===s.dataKey&&la(a.stackId)===s.stackId&&a.data===s.data))return a}),Ha=Ne([Pe,ht,xt,ft,gt,Ga,ia,Wa,Va],(t,a,s,r,i,n,d,o,c)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:x}=d;if(!(c==null||t!=="horizontal"&&t!=="vertical"||a==null||s==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:u}=c,g;if(u&&u.length>0?g=u:g=m==null?void 0:m.slice(f,x+1),g!=null){var p=void 0;return ms({layout:t,xAxis:a,yAxis:s,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:c,stackedData:n,displayedData:g,chartBaseValue:p,bandSize:o})}}}),Ya=["layout","type","stroke","connectNulls","isRange"],Xa=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vt(t,a){if(t==null)return{};var s,r,i=qa(t,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)s=n[r],a.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}function qa(t,a){if(t==null)return{};var s={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(a.indexOf(r)!==-1)continue;s[r]=t[r]}return s}function Je(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function B(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Je(Object(s),!0).forEach(function(r){de(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Je(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function de(t,a,s){return(a=Ja(a))in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function Ja(t){var a=Za(t,"string");return typeof a=="symbol"?a:a+""}function Za(t,a){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function M(){return M=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)({}).hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},M.apply(null,arguments)}function ie(t,a){return t&&t!=="none"?t:a}var Qa=t=>{var{dataKey:a,name:s,stroke:r,fill:i,legendType:n,hide:d}=t;return[{inactive:d,dataKey:a,type:n,color:ie(r,i),value:dt(s,a),payload:t}]};function es(t){var{dataKey:a,data:s,stroke:r,strokeWidth:i,fill:n,name:d,hide:o,unit:c}=t;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:n,dataKey:a,nameKey:void 0,name:dt(d,a),hide:o,type:t.tooltipType,color:ie(r,n),unit:c}}}var ts=(t,a)=>{var s;if(l.isValidElement(t))s=l.cloneElement(t,a);else if(typeof t=="function")s=t(a);else{var r=be("recharts-area-dot",typeof t!="boolean"?t.className:"");s=l.createElement(pt,M({},a,{className:r}))}return s};function as(t,a){return t==null?!1:a?!0:t.length===1}function ss(t){var{clipPathId:a,points:s,props:r}=t,{needClip:i,dot:n,dataKey:d}=r;if(!as(s,n))return null;var o=ut(n),c=K(r,!1),m=K(n,!0),f=s.map((u,g)=>{var p=B(B(B({key:"dot-".concat(g),r:3},c),m),{},{index:g,cx:u.x,cy:u.y,dataKey:d,value:u.value,payload:u.payload,points:s});return ts(n,p)}),x={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(a,")"):void 0};return l.createElement(J,M({className:"recharts-area-dots"},x),f)}function je(t){var{points:a,baseLine:s,needClip:r,clipPathId:i,props:n,showLabels:d}=t,{layout:o,type:c,stroke:m,connectNulls:f,isRange:x}=n,u=vt(n,Ya);return l.createElement(l.Fragment,null,(a==null?void 0:a.length)>1&&l.createElement(J,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},l.createElement(xe,M({},K(u,!0),{points:a,connectNulls:f,type:c,baseLine:s,layout:o,stroke:"none",className:"recharts-area-area"})),m!=="none"&&l.createElement(xe,M({},K(n,!1),{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:a})),m!=="none"&&x&&l.createElement(xe,M({},K(n,!1),{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:s}))),l.createElement(ss,{points:a,props:n,clipPathId:i}),d&&wa.renderCallByParent(n,a))}function rs(t){var{alpha:a,baseLine:s,points:r,strokeWidth:i}=t,n=r[0].y,d=r[r.length-1].y;if(!ne(n)||!ne(d))return null;var o=a*Math.abs(n-d),c=Math.max(...r.map(m=>m.x||0));return Z(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(m=>m.x||0),c)),Z(c)?l.createElement("rect",{x:0,y:n<d?n:n-o,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function ns(t){var{alpha:a,baseLine:s,points:r,strokeWidth:i}=t,n=r[0].x,d=r[r.length-1].x;if(!ne(n)||!ne(d))return null;var o=a*Math.abs(n-d),c=Math.max(...r.map(m=>m.y||0));return Z(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(m=>m.y||0),c)),Z(c)?l.createElement("rect",{x:n<d?n:n-o,y:0,width:o,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function is(t){var{alpha:a,layout:s,points:r,baseLine:i,strokeWidth:n}=t;return s==="vertical"?l.createElement(rs,{alpha:a,points:r,baseLine:i,strokeWidth:n}):l.createElement(ns,{alpha:a,points:r,baseLine:i,strokeWidth:n})}function os(t){var{needClip:a,clipPathId:s,props:r,previousPointsRef:i,previousBaselineRef:n}=t,{points:d,baseLine:o,isAnimationActive:c,animationBegin:m,animationDuration:f,animationEasing:x,onAnimationStart:u,onAnimationEnd:g}=r,p=ja(r,"recharts-area-"),[v,w]=l.useState(!0),h=l.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),P=l.useCallback(()=>{typeof u=="function"&&u(),w(!0)},[u]),A=i.current,y=n.current;return l.createElement(ba,{begin:m,duration:f,isActive:c,easing:x,from:{t:0},to:{t:1},onAnimationEnd:h,onAnimationStart:P,key:p},j=>{var{t:b}=j;if(A){var O=A.length/d.length,I=b===1?d:d.map((C,z)=>{var D=Math.floor(z*O);if(A[D]){var L=A[D];return B(B({},C),{},{x:X(L.x,C.x,b),y:X(L.y,C.y,b)})}return C}),N;return Z(o)?N=X(y,o,b):Ie(o)||ka(o)?N=X(y,0,b):N=o.map((C,z)=>{var D=Math.floor(z*O);if(Array.isArray(y)&&y[D]){var L=y[D];return B(B({},C),{},{x:X(L.x,C.x,b),y:X(L.y,C.y,b)})}return C}),b>0&&(i.current=I,n.current=N),l.createElement(je,{points:I,baseLine:N,needClip:a,clipPathId:s,props:r,showLabels:!v})}return b>0&&(i.current=d,n.current=o),l.createElement(J,null,l.createElement("defs",null,l.createElement("clipPath",{id:"animationClipPath-".concat(s)},l.createElement(is,{alpha:b,points:d,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),l.createElement(J,{clipPath:"url(#animationClipPath-".concat(s,")")},l.createElement(je,{points:d,baseLine:o,needClip:a,clipPathId:s,props:r,showLabels:!0})))})}function ls(t){var{needClip:a,clipPathId:s,props:r}=t,{points:i,baseLine:n,isAnimationActive:d}=r,o=l.useRef(null),c=l.useRef(),m=o.current,f=c.current;return d&&i&&i.length&&(m!==i||f!==n)?l.createElement(os,{needClip:a,clipPathId:s,props:r,previousPointsRef:o,previousBaselineRef:c}):l.createElement(je,{points:i,baseLine:n,needClip:a,clipPathId:s,props:r,showLabels:!0})}class cs extends l.PureComponent{constructor(){super(...arguments),de(this,"id",Aa("recharts-area-"))}render(){var a,{hide:s,dot:r,points:i,className:n,top:d,left:o,needClip:c,xAxisId:m,yAxisId:f,width:x,height:u,id:g,baseLine:p}=this.props;if(s)return null;var v=be("recharts-area",n),w=Ie(g)?this.id:g,{r:h=3,strokeWidth:P=2}=(a=K(r,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},A=ut(r),y=h*2+P;return l.createElement(l.Fragment,null,l.createElement(J,{className:v},c&&l.createElement("defs",null,l.createElement(va,{clipPathId:w,xAxisId:m,yAxisId:f}),!A&&l.createElement("clipPath",{id:"clipPath-dots-".concat(w)},l.createElement("rect",{x:o-y/2,y:d-y/2,width:x+y,height:u+y}))),l.createElement(ls,{needClip:c,clipPathId:w,props:this.props})),l.createElement(qe,{points:i,mainColor:ie(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&l.createElement(qe,{points:p,mainColor:ie(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var yt={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ya.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function ds(t){var a,s=ma(t,yt),{activeDot:r,animationBegin:i,animationDuration:n,animationEasing:d,connectNulls:o,dot:c,fill:m,fillOpacity:f,hide:x,isAnimationActive:u,legendType:g,stroke:p,xAxisId:v,yAxisId:w}=s,h=vt(s,Xa),P=pa(),A=ha(),{needClip:y}=fa(v,w),j=xa(),b=l.useMemo(()=>({baseValue:t.baseValue,stackId:t.stackId,connectNulls:o,data:t.data,dataKey:t.dataKey}),[t.baseValue,t.stackId,o,t.data,t.dataKey]),{points:O,isRange:I,baseLine:N}=(a=it(V=>Ha(V,v,w,j,b)))!==null&&a!==void 0?a:{},{height:C,width:z,x:D,y:L}=ga();return P!=="horizontal"&&P!=="vertical"||A!=="AreaChart"&&A!=="ComposedChart"?null:l.createElement(cs,M({},h,{activeDot:r,animationBegin:i,animationDuration:n,animationEasing:d,baseLine:N,connectNulls:o,dot:c,fill:m,fillOpacity:f,height:C,hide:x,layout:P,isAnimationActive:u,isRange:I,legendType:g,needClip:y,points:O,stroke:p,width:z,left:D,top:L,xAxisId:v,yAxisId:w}))}var us=(t,a,s,r,i)=>{var n=s??a;if(Z(n))return n;var d=t==="horizontal"?i:r,o=d.scale.domain();if(d.type==="number"){var c=Math.max(o[0],o[1]),m=Math.min(o[0],o[1]);return n==="dataMin"?m:n==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return n==="dataMin"?o[0]:n==="dataMax"?o[1]:o[0]};function ms(t){var{areaSettings:{connectNulls:a,baseValue:s,dataKey:r},stackedData:i,layout:n,chartBaseValue:d,xAxis:o,yAxis:c,displayedData:m,dataStartIndex:f,xAxisTicks:x,yAxisTicks:u,bandSize:g}=t,p=i&&i.length,v=us(n,d,s,o,c),w=n==="horizontal",h=!1,P=m.map((y,j)=>{var b;p?b=i[f+j]:(b=Ue(y,r),Array.isArray(b)?h=!0:b=[v,b]);var O=b[1]==null||p&&!a&&Ue(y,r)==null;return w?{x:Ve({axis:o,ticks:x,bandSize:g,entry:y,index:j}),y:O?null:c.scale(b[1]),value:b,payload:y}:{x:O?null:o.scale(b[1]),y:Ve({axis:c,ticks:u,bandSize:g,entry:y,index:j}),value:b,payload:y}}),A;return p||h?A=P.map(y=>{var j=Array.isArray(y.value)?y.value[0]:null;return w?{x:y.x,y:j!=null&&y.y!=null?c.scale(j):null}:{x:j!=null?o.scale(j):null,y:y.y}}):A=w?c.scale(v):o.scale(v),{points:P,baseLine:A,isRange:h}}class oe extends l.PureComponent{render(){return l.createElement(ca,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},l.createElement(da,{legendPayload:Qa(this.props)}),l.createElement(ua,{fn:es,args:this.props}),l.createElement(ds,this.props))}}de(oe,"displayName","Area");de(oe,"defaultProps",yt);var ps=["axis"],hs=l.forwardRef((t,a)=>l.createElement(Ia,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ps,tooltipPayloadSearcher:Na,categoricalChartProps:t,ref:a}));function fs({x:t,y:a,value:s,valueFormatter:r}){return e.jsx("g",{transform:`translate(${t},${a})`,children:e.jsx("text",{x:0,y:0,dy:-8,dx:-10,textAnchor:"top",fill:"var(--chart-text-color, var(--mantine-color-dimmed))",fontSize:8,children:r?r(s):s})})}function jt({color:t,id:a,withGradient:s,fillOpacity:r}){return e.jsx(e.Fragment,{children:s?e.jsxs("linearGradient",{id:a,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:t,stopOpacity:r}),e.jsx("stop",{offset:"100%",stopColor:t,stopOpacity:.01})]}):e.jsx("linearGradient",{id:a,x1:"0",y1:"0",x2:"0",y2:"1",children:e.jsx("stop",{stopColor:t,stopOpacity:r??.2})})})}jt.displayName="@mantine/charts/AreaGradient";function bt({offset:t,id:a,colors:s,fillOpacity:r}){const i=Ze();return e.jsxs("linearGradient",{id:a,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:t,stopColor:R(s[0],i),stopOpacity:r??.2}),e.jsx("stop",{offset:t,stopColor:R(s[1],i),stopOpacity:r??.2})]})}bt.displayName="@mantine/charts/AreaSplit";function xs({data:t,dataKey:a}){const s=Math.max(...t.map(i=>i[a])),r=Math.min(...t.map(i=>i[a]));return s<=0?0:r>=0?1:s/(s-r)}function gs({data:t,series:a}){if(a.length===1){const s=a[0].name;return xs({data:t,dataKey:s})}return .5}function vs(t){return`${(t*100).toFixed(0)}%`}const ys={withXAxis:!0,withYAxis:!0,withDots:!0,withTooltip:!0,connectNulls:!0,strokeWidth:2,tooltipAnimationDuration:0,fillOpacity:.2,tickLine:"y",strokeDasharray:"5 5",curveType:"monotone",gridAxis:"x",type:"default",splitColors:["green.7","red.7"],orientation:"horizontal"},js=Vt((t,{textColor:a,gridColor:s})=>({root:{"--chart-text-color":a?R(a,t):void 0,"--chart-grid-color":s?R(s,t):void 0}})),Ce=Bt((t,a)=>{const s=Rt("AreaChart",ys,t),{classNames:r,className:i,style:n,styles:d,unstyled:o,vars:c,data:m,series:f,withGradient:x,dataKey:u,withXAxis:g,withYAxis:p,curveType:v,gridProps:w,withDots:h,tickLine:P,strokeDasharray:A,gridAxis:y,unit:j,yAxisProps:b,xAxisProps:O,dotProps:I,activeDotProps:N,strokeWidth:C,tooltipAnimationDuration:z,type:D,legendProps:L,tooltipProps:V,withLegend:kt,withTooltip:wt,areaChartProps:At,fillOpacity:Se,splitColors:It,splitOffset:Nt,connectNulls:De,onMouseLeave:ue,orientation:H,referenceLines:me,dir:Pt,valueFormatter:pe,children:Ct,areaProps:Y,xAxisLabel:he,yAxisLabel:ee,withRightYAxis:St,rightYAxisLabel:ze,rightYAxisProps:Dt,withPointLabels:zt,gridColor:Gs,textColor:Us,attributes:Ee,...Et}=s,te=Ze(),Le=l.useId(),Oe=`${Le}-split`,Lt=y!=="none"&&(P==="x"||P==="xy"),Ot=y!=="none"&&(P==="y"||P==="xy"),Tt=(z||0)>0,_t=typeof x=="boolean"?x:D==="default",Te=D==="stacked"||D==="percent",[fe,_e]=l.useState(null),Ke=fe!==null,Kt=k=>{_e(null),ue==null||ue(k)},{resolvedClassNames:Me,resolvedStyles:Fe}=Wt({classNames:r,styles:d,props:s}),T=Gt({name:"AreaChart",classes:mt,props:s,className:i,style:n,classNames:r,styles:d,unstyled:o,vars:c,varsResolver:js}),Mt=f.map(k=>{const _=R(k.color,te),F=Ke&&fe!==k.name;return l.createElement(oe,{...T("area"),activeDot:{fill:te.white,stroke:_,strokeWidth:2,r:4,...N},dot:{fill:_,fillOpacity:F?0:1,strokeWidth:2,r:4,...I},key:k.name,name:k.name,type:v,dataKey:k.name,fill:"none",strokeWidth:C,stroke:"none",isAnimationActive:!1,connectNulls:De,stackId:Te?"stack-dots":void 0,yAxisId:k.yAxisId||"left",...typeof Y=="function"?Y(k):Y})}),Ft=f.map(k=>{const _=`${Le}-${k.color.replace(/[^a-zA-Z0-9]/g,"")}`,F=R(k.color,te),Re=Ke&&fe!==k.name;return e.jsxs(l.Fragment,{children:[e.jsx("defs",{children:e.jsx(jt,{color:F,withGradient:_t,id:_,fillOpacity:Se})}),e.jsx(oe,{...T("area"),activeDot:!1,dot:!1,name:k.name,type:v,dataKey:k.name,fill:D==="split"?`url(#${Oe})`:`url(#${_})`,strokeWidth:C,stroke:F,isAnimationActive:!1,connectNulls:De,stackId:Te?"stack":void 0,fillOpacity:Re?0:1,strokeOpacity:Re?.5:1,strokeDasharray:k.strokeDasharray,yAxisId:k.yAxisId||"left",label:zt?e.jsx(fs,{valueFormatter:pe}):void 0,...typeof Y=="function"?Y(k):Y})]},k.name)}),$t=me==null?void 0:me.map((k,_)=>{const F=R(k.color,te);return e.jsx(Pa,{stroke:k.color?F:"var(--chart-grid-color)",strokeWidth:1,yAxisId:k.yAxisId||"left",...k,label:{value:k.label,fill:k.color?F:"currentColor",fontSize:12,position:k.labelPosition??"insideBottomLeft"},...T("referenceLine")},_)}),$e=D==="percent"?vs:pe,Be={axisLine:!1,...H==="vertical"?{dataKey:u,type:"category"}:{type:"number"},tickLine:Ot?{stroke:"currentColor"}:!1,allowDecimals:!0,unit:j,tickFormatter:H==="vertical"?void 0:$e,...T("axis")};return e.jsx(Ut,{ref:a,...T("root"),onMouseLeave:Kt,dir:Pt||"ltr",...Et,children:e.jsx(Ca,{...T("container"),children:e.jsxs(hs,{data:m,stackOffset:D==="percent"?"expand":void 0,layout:H,margin:{bottom:he?30:void 0,left:ee?10:void 0,right:ee?5:void 0},...At,children:[$t,kt&&e.jsx(Sa,{verticalAlign:"top",content:k=>e.jsx(Da,{payload:k.payload,onHighlight:_e,legendPosition:(L==null?void 0:L.verticalAlign)||"top",classNames:Me,styles:Fe,series:f,attributes:Ee}),...L}),e.jsx(za,{strokeDasharray:A,vertical:y==="y"||y==="xy",horizontal:y==="x"||y==="xy",...T("grid"),...w}),e.jsxs(Ea,{hide:!g,...H==="vertical"?{type:"number"}:{dataKey:u},tick:{transform:"translate(0, 10)",fontSize:12,fill:"currentColor"},stroke:"",interval:"preserveStartEnd",tickLine:Lt?{stroke:"currentColor"}:!1,minTickGap:5,tickFormatter:H==="vertical"?$e:void 0,...T("axis"),...O,children:[he&&e.jsx(ge,{position:"insideBottom",offset:-20,fontSize:12,...T("axisLabel"),children:he}),O==null?void 0:O.children]}),e.jsxs(He,{yAxisId:"left",orientation:"left",tick:{transform:"translate(-10, 0)",fontSize:12,fill:"currentColor"},hide:!p,...Be,...b,children:[ee&&e.jsx(ge,{position:"insideLeft",angle:-90,textAnchor:"middle",fontSize:12,offset:-5,...T("axisLabel"),children:ee}),b==null?void 0:b.children]}),e.jsxs(He,{yAxisId:"right",orientation:"right",tick:{transform:"translate(10, 0)",fontSize:12,fill:"currentColor"},hide:!St,...Be,...Dt,children:[ze&&e.jsx(ge,{position:"insideRight",angle:90,textAnchor:"middle",fontSize:12,offset:-5,...T("axisLabel"),children:ze}),b==null?void 0:b.children]}),wt&&e.jsx(La,{animationDuration:z,isAnimationActive:Tt,position:H==="vertical"?{}:{y:0},cursor:{stroke:"var(--chart-grid-color)",strokeWidth:1,strokeDasharray:A},content:({label:k,payload:_})=>e.jsx(Oa,{label:k,payload:_,unit:j,classNames:Me,styles:Fe,series:f,valueFormatter:pe,attributes:Ee}),...V}),D==="split"&&e.jsx("defs",{children:e.jsx(bt,{colors:It,id:Oe,offset:Nt??gs({data:m,series:f}),fillOpacity:Se})}),Ft,h&&Mt,Ct]})})})});Ce.classes=mt;Ce.displayName="@mantine/charts/AreaChart";const bs="/images/splash.png",ks="https://dianlucky.my.id/api",ws=({items:t})=>{const a=G(),[s,r]=l.useState(!1),{pathname:i}=U(),[n,d]=l.useState(""),[o,c]=l.useState("asc"),[m,f]=l.useState("asc");let x=[];return m=="asc"?x=t.filter(u=>u.name.toLowerCase().includes(n?n.toLowerCase():"")).sort((u,g)=>u.stock-g.stock):x=t.filter(u=>u.name.toLowerCase().includes(n?n.toLowerCase():"")).sort((u,g)=>g.stock-u.stock),e.jsx(e.Fragment,{children:e.jsxs("section",{className:"bg-white mx-auto max-w-sm w-full shadow-lg rounded-md relative p-4",children:[e.jsxs("div",{className:"flex justify-between text-xs items-center mb-4",children:[e.jsx("div",{children:e.jsx(re,{leftSectionPointerEvents:"none",leftSection:e.jsx(Xt,{size:16}),placeholder:"Cari barang ...",radius:"md",size:"sm",value:n??"",onChange:u=>d(u.currentTarget.value)})}),e.jsx("div",{children:e.jsxs(q,{width:200,position:"bottom",withArrow:!0,withOverlay:!0,offset:5,opened:s,children:[e.jsx(q.Target,{children:e.jsx(E,{size:"compact-md",color:"blue",c:"white",mr:4,onClick:()=>r(u=>!u),children:e.jsx(at,{size:20})})}),e.jsxs(q.Dropdown,{children:[e.jsx("div",{children:e.jsx(le,{size:"xs",label:"Urutkan berdasarkan",placeholder:"Pilih filter",checkIconPosition:"right",comboboxProps:{withinPortal:!1},value:o,onChange:c,data:[{label:"Stok terendah",value:"asc"},{label:"Stok tertinggi",value:"desc"}]})}),e.jsx("div",{className:"mt-2 flex justify-between gap-2",children:e.jsx(E,{fullWidth:!0,size:"xs",onClick:()=>{f(o),r(!1)},children:"Simpan"})})]})]})})]}),x.length==0&&e.jsxs("div",{className:"my-10",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(W,{radius:"10px",h:120,w:120,src:"/images/not-found.svg"})}),e.jsx("div",{className:"text-center mt-1",children:e.jsx(S,{size:"sm",fw:600,children:"Data barang tidak ditemukan"})})]}),x.map((u,g)=>e.jsxs("div",{children:[e.jsxs(Qe,{className:"w-full grid grid-cols-12",onClick:()=>a(`/${i.includes("frozen")?"frozen":"warehouse"}-inventory/item/detail`,{state:{data:u}}),children:[e.jsx("div",{className:"col-span-2 flex justify-center",children:e.jsx("div",{className:"border-2 border-gray-300 rounded-[10px]",children:e.jsx(W,{radius:"10px",h:35,w:35,src:u.image?`${ks}/uploads/items/${u==null?void 0:u.image}`:bs})})}),e.jsxs("div",{className:"col-span-8 text-left",children:[e.jsx(S,{size:"sm",truncate:"end",fw:700,children:u.name}),e.jsx(S,{size:"xs",truncate:"end",fw:400,mt:-4,children:u.code})]}),e.jsx("div",{className:"col-span-2 text-center my-auto",children:e.jsx(S,{size:"xl",fw:700,c:u.stock<=0?"red":"dark",children:u.stock})})]}),e.jsx("div",{className:"px-2",children:e.jsx(se,{my:10})})]},g))]})})},As="https://dianlucky.my.id/api",Is=t=>{for(const[a,s]of t.entries())console.log(`${a}:`,s)};async function Ns(t){return Is(t),(await we.post(`${As}/items`,t,{headers:{Authorization:`Bearer ${Ae.getToken()}`,"Content-Type":"multipart/form-data"}})).data}const Ps=()=>ke({mutationFn:t=>Ns(t)}),Cs="https://dianlucky.my.id/api",Ss=t=>{for(const[a,s]of t.entries())console.log(`${a}:`,s)};async function Ds(t,a){return Ss(a),(await we.patch(`${Cs}/items/${t}`,a,{headers:{Authorization:`Bearer ${Ae.getToken()}`,"Content-Type":"multipart/form-data"}})).data}const zs=t=>ke({mutationFn:a=>Ds(t,a)}),Es="https://dianlucky.my.id/api",Ls=async t=>(await we.delete(`${Es}/items/${t}`,{headers:{Authorization:`Bearer ${Ae.getToken()}`}})).data,Os=()=>ke({mutationFn:t=>Ls(t),onError:t=>{console.log(t)}}),Ts="/images/splash.png",_s="https://dianlucky.my.id/api",Ks=({item:t,LoadingItem:a})=>{var m;const s=G(),[r,{open:i,close:n}]=et(!1),{pathname:d}=U(),o=Os(),c=async f=>{o.mutateAsync(f,{onSuccess:x=>{console.log("Sukses :",x),Q({message:"Kategori berhasil dihapus",color:"green",position:"top-center"}),n(),s(-1)},onError:x=>{var p,v;const u=x,g=((v=(p=u==null?void 0:u.response)==null?void 0:p.data)==null?void 0:v.errors)||"Gagal menghapus kategori. Silakan coba lagi.";n(),Q({message:g,color:"red",position:"top-center"})}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2",children:[e.jsxs("div",{className:"grid grid-cols-12 p-2",children:[e.jsx("div",{className:"col-span-4 mx-auto ",children:a?e.jsx($,{height:70,circle:!0}):e.jsx(W,{radius:"10px",h:80,w:80,src:t!=null&&t.image?`${_s}/uploads/items/${t==null?void 0:t.image}`:Ts})}),e.jsxs("div",{className:"col-span-7 mt-1",children:[a?e.jsx($,{height:15,width:"60%"}):e.jsx(S,{size:"md",fw:700,truncate:"end",children:t==null?void 0:t.name}),a?e.jsx($,{height:15,width:"20%",mt:22}):e.jsx(S,{size:"xl",fw:700,mt:18,children:t==null?void 0:t.stock})]}),e.jsx("div",{className:"col-span-1 text-end -mt-2",children:e.jsx(E,{disabled:a,size:"compact-xs",color:"red",onClick:i,children:e.jsx(Zt,{size:15})})})]}),e.jsx(se,{mx:7}),a?e.jsx($,{height:15,width:"80%",my:10,ml:10}):e.jsxs("div",{className:"mt-2 px-4 flex justify-between",children:[e.jsx(S,{size:"sm",fw:400,children:"Kode barang"}),e.jsx(S,{size:"sm",fw:700,children:t==null?void 0:t.code})]}),e.jsx(se,{mx:7,mt:6}),a?e.jsx($,{height:15,width:"80%",my:10,ml:10}):e.jsxs("div",{className:"mt-2 px-4 flex justify-between",children:[e.jsx(S,{size:"sm",fw:400,children:"Kategori"}),e.jsx(S,{size:"sm",fw:700,children:(m=t==null?void 0:t.category)==null?void 0:m.name})]}),e.jsxs("div",{className:"flex justify-between px-2 gap-1 mt-4 mb-3",children:[e.jsx(E,{fullWidth:!0,color:"yellow",disabled:a,size:"sm",onClick:()=>s(`/${d.includes("frozen")?"frozen":"warehouse"}-inventory/item/update`,{state:{item:t}}),children:"Edit"}),e.jsx(E,{fullWidth:!0,disabled:a,size:"sm",onClick:()=>s(`/${d.includes("frozen")?"frozen":"warehouse"}-inventory/item/history`,{state:{item:t}}),children:"Riwayat"})]}),e.jsx(tt,{opened:r,onClose:n,title:"Konfirmasi hapus",children:e.jsxs("div",{className:"px-1",children:[e.jsxs("div",{className:" text-center px-2",children:[e.jsx(S,{size:"sm",fw:500,children:"Apakah anda yakin ingin menghapus barang dengan nama"}),e.jsxs(S,{size:"md",c:"red",fw:700,children:['"',t==null?void 0:t.name,'"']})]}),e.jsxs("div",{className:"flex justify-betwen gap-2 mt-2 mb-2",children:[e.jsx(E,{color:"grey",size:"sm",fullWidth:!0,onClick:n,children:"Kembali"}),e.jsx(E,{color:"yellow",size:"sm",fullWidth:!0,onClick:()=>{c(t==null?void 0:t.id)},children:"Ya! Hapus"})]})]})})]})})},ae="/images/splash.png",Ms="https://dianlucky.my.id/api",Fs=({item:t})=>{const a=G(),{pathname:s}=U(),[r,i]=l.useState([]),{data:n}=st();l.useEffect(()=>{n&&i(n)},[n]);const d=r.filter(p=>s.includes("frozen")?p.name.toLowerCase()==="frozen":!0).map(p=>({value:p.id.toString(),label:p.name})),o=rt({validateInputOnChange:!0,initialValues:{name:(t==null?void 0:t.name)||"",code:(t==null?void 0:t.code)||"",category_id:(t==null?void 0:t.category_id.toString())||"",image:(t==null?void 0:t.image)||null},validate:{name:p=>p.length<5?"Minimal 5 Karakter":null,code:p=>p.length<2?"Minimal 2 karakter":p.length>4?"Kode Barang tidak boleh lebih dari 4 karakter":null}}),[c,m]=l.useState(t!=null&&t.image?`${Ms}/uploads/items/${t.image}`:ae),f=p=>{var w;const v=((w=p.target.files)==null?void 0:w[0])||null;if(v){const h=new FileReader;h.onloadend=()=>{m(h.result)},h.readAsDataURL(v),o.setFieldValue("image",v)}},x=()=>{m(ae)},u=zs(t.id),g=async p=>{p.preventDefault();const v=new FormData;v.append("code",o.values.code),v.append("name",o.values.name),v.append("category_id",String(o.values.category_id)),o.values.image!=null&&v.append("image",o.values.image),await u.mutateAsync(v,{onSuccess:w=>{console.log("Success:",w),o.reset(),m(ae),a(-1),Q({message:"Berhasil mengubah data barang",color:"green",position:"top-center"}),close()}})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white rounded-xl shadow-md p-2",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mt-4 px-5 space-y-40",children:[e.jsx(W,{radius:"md",src:c,alt:"Preview",className:"w-full max-w-sm mx-auto rounded-lg shadow"}),e.jsxs("div",{className:"flex gap-4 justify-center -mt-36",children:[e.jsxs("label",{htmlFor:"file-upload",children:[e.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:f,className:"hidden"}),e.jsx(E,{component:"span",variant:"filled",color:"blue",fullWidth:!0,children:"Upload Foto"})]}),e.jsx(E,{variant:"outline",color:"red",onClick:x,disabled:c===ae,fullWidth:!0,children:"Hapus Foto"})]})]}),e.jsxs("div",{className:"mt-2 px-4",children:[e.jsx("div",{children:e.jsx(re,{size:"sm",label:"Kode barang",withAsterisk:!0,...o.getInputProps("code")},o.key("code"))}),e.jsx("div",{className:"mt-1",children:e.jsx(re,{size:"sm",label:"Nama barang",withAsterisk:!0,...o.getInputProps("name")},o.key("name"))}),e.jsx("div",{className:"mt-1",children:e.jsx(le,{size:"sm",withAsterisk:!0,allowDeselect:!1,label:"Kategori",checkIconPosition:"right",comboboxProps:{withinPortal:!1},data:d,...o.getInputProps("category_id")})}),e.jsx("div",{className:"my-4 flex justify-between gap-1",children:e.jsx(E,{type:"submit",size:"sm",fullWidth:!0,children:"Simpan"})})]})]})})})},$s="https://dianlucky.my.id/api",Bs="/images/profile-default.png",Rs=({transactionData:t,LoadingIncoming:a,LoadingOutgoing:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white rounded-md shadow-md p-3",children:[t.length==0&&e.jsxs("div",{className:"my-10",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(W,{radius:"10px",h:120,w:120,src:"/images/not-found.svg"})}),e.jsx("div",{className:"text-center mt-1",children:e.jsx(S,{size:"sm",fw:600,children:"Data tidak ditemukan"})})]}),t.map((r,i)=>{var n;return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-12 px-3",children:[e.jsx("div",{className:"col-span-6",children:e.jsxs("div",{children:[a&&s?e.jsx($,{height:10,width:"100%"}):e.jsx(S,{size:"xs",fw:400,children:Ht(r.created_at,"EEEE, dd MMM yyyy HH:mm",{locale:Yt})}),a&&s?e.jsx($,{height:10,width:"70%",mt:4}):e.jsxs("div",{children:[r.type=="incoming"&&e.jsxs("div",{className:"flex mt-1",children:[e.jsx(ea,{size:16,color:"#40c057"}),e.jsx(S,{size:"sm",c:"#40c057",fw:800,mt:-2,ml:3,children:"Stok masuk"})]}),r.type=="outgoing"&&e.jsxs("div",{className:"flex mt-1",children:[e.jsx(aa,{size:16,color:"red"}),e.jsx(S,{size:"sm",c:"red",fw:800,mt:-2,ml:3,children:"Stok keluar"})]})]}),e.jsx(S,{size:"sm",fw:700,mt:3,children:r.item.name})]})}),e.jsxs("div",{className:"col-span-6 text-end mt-3",children:[e.jsxs("div",{className:"flex justify-end",children:[e.jsx(W,{radius:"10px",h:20,w:20,src:r.employee.profile_pic?`${$s}/uploads/employees/${(n=r.employee)==null?void 0:n.profile_pic}`:Bs}),e.jsx(S,{size:"xs",fw:400,truncate:"end",children:r.employee.name})]}),e.jsx(S,{size:"lg",fw:600,children:r.amount})]})]}),e.jsx("div",{className:"my-2",children:e.jsx(se,{})})]},i)})]})}),Ws=()=>{const t=[{date:"01",Masuk:10,Keluar:5},{date:"02",Masuk:15,Keluar:8},{date:"03",Masuk:12,Keluar:10},{date:"04",Masuk:18,Keluar:7},{date:"05",Masuk:21,Keluar:4},{date:"06",Masuk:17,Keluar:5},{date:"07",Masuk:12,Keluar:2}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"bg-white shadow-md rounded-md p-2",children:e.jsx(Ce,{h:300,w:300,data:t,dataKey:"date",withLegend:!0,withPointLabels:!0,series:[{name:"Masuk",color:"green.6"},{name:"Keluar",color:"red.6"}]})})})},ve="/images/splash.png",fr=()=>{const t=G(),[a,{open:s,close:r}]=et(!1);let i="";const n=U();n.pathname.includes("frozen")?i="Frozen":i="!Frozen";const[d,o]=l.useState([]),{data:c,isLoading:m,refetch:f}=qt(i);l.useEffect(()=>{o(c||[])},[c]);const[x,u]=l.useState(ve),g=I=>{var C;const N=((C=I.target.files)==null?void 0:C[0])||null;if(j.setFieldValue("image",N),N){const z=new FileReader;z.onloadend=()=>{u(z.result)},z.readAsDataURL(N)}},p=()=>{u(ve)},[v,w]=l.useState(""),[h,P]=l.useState([]),{data:A}=st();l.useEffect(()=>{if(A&&(P(A),n.pathname.includes("frozen"))){const I=A.find(N=>N.name.toLowerCase()==="frozen");I&&(w(I.id.toString()),j.setFieldValue("category_id",v))}},[A]);const y=h.filter(I=>n.pathname.includes("frozen")?I.name.toLowerCase()==="frozen":!0).map(I=>({value:I.id.toString(),label:I.name})),j=rt({validateInputOnChange:!0,initialValues:{code:"",name:"",category_id:v??"",stock:0,image:null},validate:{name:I=>I.length<5?"Minimal 5 Karakter":null,code:I=>I.length<2?"Minimal 2 karakter":I.length>4?"Kode Barang tidak boleh lebih dari 4 karakter":null}}),b=Ps(),O=async I=>{if(I.preventDefault(),!j.isValid())return;const N=new FormData;N.append("code",j.values.code),N.append("name",j.values.name),N.append("stock",String(j.values.stock)),N.append("category_id",j.values.category_id),j.values.image!=null&&N.append("image",j.values.image),await b.mutateAsync(N,{onSuccess:C=>{console.log("Success:",C),j.reset(),r(),p(),f(),Q({message:"Berhasil menambah data barang",color:"green",position:"top-center"})},onError:C=>{var L,V;const z=C,D=((V=(L=z==null?void 0:z.response)==null?void 0:L.data)==null?void 0:V.errors)||"Gagal menghapus kategori. Silakan coba lagi.";r(),Q({message:D,color:"red",position:"top-center"})}})};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(ce,{onClick:()=>{t(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown",children:e.jsxs("h2",{className:"font-semibold",children:["Kelola Barang ",i=="Frozen"?"Frozen":"Gudang"]})}),e.jsx("div",{children:e.jsx("div",{className:"mr-2",children:e.jsx(Qe,{onClick:s,children:e.jsx(Ta,{size:22})})})})]})}),e.jsx("section",{children:e.jsx("div",{className:"mt-2 px-5 mb-20",children:m?e.jsx(Qt,{}):e.jsx(ws,{items:d})})}),e.jsx(tt,{opened:a,onClose:r,title:"Tambah data barang",children:e.jsx("div",{className:"px-2 -mt-2",children:e.jsxs("form",{onSubmit:O,children:[e.jsxs("div",{className:"mt-4 px-1  grid grid-cols-12",children:[e.jsx("div",{className:"col-span-6",children:e.jsx(W,{radius:"md",src:x,alt:"Preview",className:"w-full max-w- mx-auto rounded-lg shadow"})}),e.jsx("div",{className:"col-span-1"}),e.jsxs("div",{className:"col-span-5 my-auto",children:[e.jsxs("label",{htmlFor:"file-upload",children:[e.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:g,className:"hidden"}),e.jsx(E,{mb:8,component:"span",variant:"filled",color:"blue",fullWidth:!0,children:"Upload Foto"})]}),e.jsx(E,{variant:"outline",color:"red",onClick:p,disabled:x===ve,fullWidth:!0,children:"Hapus Foto"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx(re,{label:"Kode Barang",size:"sm",withAsterisk:!0,...j.getInputProps("code")},j.key("code"))}),e.jsx("div",{className:"mt-2",children:e.jsx(_a,{label:"Nama Barang",withAsterisk:!0,placeholder:"Masukkan nama barang",size:"sm",...j.getInputProps("name")},j.key("name"))}),e.jsx("div",{className:"mt-2",children:e.jsx(Ka,{label:"Stok awal",size:"sm",placeholder:"",allowDecimal:!1,hideControls:!0,...j.getInputProps("stock")},j.key("stock"))}),e.jsx("div",{className:"mt-2",children:e.jsx(le,{withAsterisk:!0,label:"Kategori barang",placeholder:"Kategori",data:y,...j.getInputProps("category_id")})}),e.jsxs("div",{className:"flex justify-between gap-2 mt-4 mb-5",children:[e.jsx(E,{size:"sm",onClick:r,fullWidth:!0,color:"gray",children:"Kembali"}),e.jsx(E,{type:"submit",fullWidth:!0,children:"Simpan"})]})]})})})]})},xr=()=>{const t=G(),s=U().state.data.id,[r,i]=l.useState(),{data:n,isLoading:d}=Jt(s);return l.useEffect(()=>{i(n||void 0)},[n]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(ce,{onClick:()=>{t(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown",children:e.jsx("h2",{className:"font-semibold",children:"Detail barang"})}),e.jsx("div",{})]})}),e.jsx("section",{className:"mt-1 px-6 mb-2",children:e.jsx(Ks,{item:r,LoadingItem:d})}),e.jsx("section",{className:"mt-1 px-6 mb-20",children:e.jsx(Ws,{})})]})},gr=()=>{const t=G(),s=U().state.item;return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(ce,{onClick:()=>{t(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown",children:e.jsx("h2",{className:"font-semibold",children:"Edit Barang"})}),e.jsx("div",{})]})}),e.jsx("section",{className:"mt-1 px-6",children:e.jsx(Fs,{item:s})})]})},vr=()=>{const t=G(),s=U().state.item,[r,i]=l.useState("Semua"),[n,d]=l.useState([null,null]),{data:o,isLoading:c}=ta(s.id),{data:m,isLoading:f}=sa(s.id),[x,u]=l.useState([]);l.useEffect(()=>{const p=(o??[]).map(h=>({id:h.id,amount:h.amount,created_at:h.created_at,item_id:h.item_id,item:h.item,employee_id:h.employee_id,employee:h.employee,type:"incoming"})),v=(m??[]).map(h=>({id:h.id,amount:h.amount,created_at:h.created_at,item_id:h.item_id,item:h.item,employee_id:h.employee_id,employee:h.employee,type:"outgoing"})),w=[...p,...v];w.sort((h,P)=>new Date(P.created_at).getTime()-new Date(h.created_at).getTime()),u(w)},[o,m]);const g=x.filter(p=>{if(r==="Stok masuk"&&p.type!=="incoming"||r==="Stok keluar"&&p.type!=="outgoing")return!1;const[v,w]=n;if(v&&w){const h=new Date(p.created_at),P=new Date(v.setHours(0,0,0,0)),A=new Date(w.setHours(23,59,59,999));return h>=P&&h<=A}return!0});return console.log("Data TransactionData :",x),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(ce,{onClick:()=>{t(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown",children:e.jsx("h2",{className:"font-semibold",children:"Riwayat barang"})}),e.jsx("div",{children:e.jsxs(q,{width:250,position:"bottom-end",withArrow:!0,offset:5,closeOnClickOutside:!1,children:[e.jsx(q.Target,{children:e.jsx(E,{size:"compact-md",color:"blue",c:"white",mr:4,children:e.jsx(at,{size:20})})}),e.jsxs(q.Dropdown,{children:[e.jsx("div",{children:e.jsx(le,{size:"xs",label:"Jenis transaksi",placeholder:"Pilih transaksi",checkIconPosition:"right",comboboxProps:{withinPortal:!1},data:["Semua","Stok masuk","Stok keluar"],value:r,onChange:p=>i(p??"Semua")})}),e.jsx("div",{children:e.jsx(Ma,{type:"range",label:"Pilih tanggal",placeholder:"Pilih tanggal",size:"xs",value:n,onChange:d})}),e.jsx("div",{className:"mt-2 flex justify-between gap-2",children:e.jsx(E,{fullWidth:!0,size:"xs",children:"Simpan"})})]})]})})]})}),e.jsx("section",{className:"mt-1 px-6 mb-20",children:e.jsx(Rs,{transactionData:g,LoadingIncoming:c,LoadingOutgoing:f})})]})};export{xr as DetailItemPage,Ks as DetailItemSection,Ws as GraphItemSection,vr as HistoryItemPage,Rs as HistoryItemSection,ws as ItemData,fr as ItemPage,gr as UpdateItemPage,Fs as UpdateItemform};
