import{r,c as p,j as s,T as a,D as o,i as g,b as I,I as y,B as v,aj as $,z as P,a5 as A,$ as R,l as F}from"./index-DB885r8G.js";import{I as W}from"./IconCalendar-CEteJwSE.js";import{M as G}from"./MonthPicker-DQ58b6Hy.js";import{s as K,g as O,u as U,a as H}from"./deleteSalary-BBoPYDs1.js";import{c as $s}from"./deleteSalary-BBoPYDs1.js";import{a as Y}from"./addDays-Swa8hheS.js";import{I as J}from"./IconUsers-QvKqt5Lu.js";import{h as V,E as q,u as X}from"./getSalary-BdpNcFeA.js";import{u as Q}from"./getSchedule-DakJRfRe.js";import{I as B}from"./IconChevronLeft-uQ5EpKgH.js";import{I as Z}from"./IconDownload-76NSvQfR.js";import{I as ss}from"./IconTrash-CJqVm7PQ.js";import{u as es}from"./use-form-R8rP4jg8.js";import{N as _}from"./NumberInput-DnZCgrMk.js";import{T as as}from"./Textarea-gOXdisOz.js";import{u as is}from"./getSchedule-CLzTNoLB.js";import{C as ls}from"./CalendarSection-CDNEJg0l.js";import{b as ts}from"./getCashAdvance-D88a06nk.js";import"./use-dates-state-CHyNsI4O.js";import"./InputBase-CS1WPbx0.js";import"./Input-ZQfrt0AG.js";import"./DatePicker-C1ROhm_W.js";function ns(e){const t=K(e),i=(6-O(t)+7)%7;return Y(t,i)}const cs=({setMonth:e})=>{const[t,c]=r.useState(new Date);return r.useEffect(()=>{if(t){const i=ns(t);e(p(i,"yyyy-MM-dd",{locale:g}))}},[t]),s.jsxs("section",{className:"mx-auto max-w-sm bg-white w-full rounded-xl z-50 relative p-2 px-2 text-slate-700  mt-2 shadow-md",children:[s.jsxs("div",{className:"flex justify-between text-xs items-center p-2 px-2 -mt-1 -mb-1",children:[s.jsx("div",{children:s.jsx(a,{fw:700,c:"#654433",children:"Kalender"})}),s.jsx("div",{className:"my-auto text-right mb-1 me-2",children:s.jsx(W,{})})]}),s.jsx(o,{size:"sm"}),s.jsx("div",{className:"flex justify-center mb-5",children:s.jsx(G,{value:t,onChange:c})})]})},E="https://dianlucky.my.id/api",ds=({employees:e,month:t})=>{const c=I();return s.jsxs("section",{className:"mx-auto max-w-sm bg-white w-full shadow-lg rounded-xl z-50 relative p-2 px-2 text-slate-700 mb-4 mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs items-center p-2 px-2 -mt-1 -mb-1",children:[s.jsx("div",{children:s.jsx(a,{fw:700,c:"#654433",children:"Data pegawai"})}),s.jsx("div",{className:"my-auto text-right mb-1 me-2",children:s.jsx(J,{})})]}),s.jsx(o,{size:"sm"}),(e==null?void 0:e.length)!==0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"mx-4",children:s.jsx(o,{label:"Pegawai tetap",labelPosition:"center",style:{marginBottom:"4px"}})}),e==null?void 0:e.filter(i=>i.employee.account.status!="Part time").map((i,d)=>s.jsx("button",{className:"w-full",style:{marginTop:"-3px"},onClick:()=>{c("/employee-salary/detail",{state:{data:{employee:i.employee,month:t}}})},children:s.jsx("div",{className:"w-full bg-slate-50 shadow-sm rounded-2xl px-2",children:s.jsxs("div",{className:"grid grid-cols-12 p-2 mb-2",children:[s.jsx("div",{className:"col-span-2 m-auto",children:s.jsx(y,{radius:"30px",h:40,w:40,src:i.employee.profile_pic?`${E}/uploads/employees/${i.employee.profile_pic}`:"/images/profile-default.png"})}),s.jsxs("div",{className:"col-span-9 ml-2",children:[s.jsx("div",{className:"text-start",children:s.jsx(a,{fw:700,size:"md",truncate:"end",children:i.employee.name})}),s.jsx("div",{className:"",children:s.jsx(o,{})}),s.jsx("div",{className:"text-start",children:s.jsx(a,{fw:400,size:"xs",children:i.employee.account.status})})]})]})})},d))]}),(e==null?void 0:e.length)!==0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"mx-4",children:s.jsx(o,{label:"Part time",labelPosition:"center",style:{marginBottom:"4px"}})}),e==null?void 0:e.filter(i=>i.employee.account.status=="Part time").map((i,d)=>s.jsx("button",{className:"w-full",style:{marginTop:"-3px"},onClick:()=>{c("/employee-salary/detail",{state:{data:{employee:i.employee,month:t}}})},children:s.jsx("div",{className:"w-full bg-slate-50 shadow-sm rounded-2xl px-2",children:s.jsxs("div",{className:"grid grid-cols-12 p-2 mb-2",children:[s.jsx("div",{className:"col-span-2 m-auto",children:s.jsx(y,{radius:"30px",h:40,w:40,src:i.employee.profile_pic?`${E}/uploads/employees/${i.employee.profile_pic}`:"/images/profile-default.png"})}),s.jsxs("div",{className:"col-span-9 ml-2",children:[s.jsx("div",{className:"text-start",children:s.jsx(a,{fw:700,size:"md",truncate:"end",children:i.employee.name})}),s.jsx("div",{className:"",children:s.jsx(o,{})}),s.jsx("div",{className:"text-start",children:s.jsx(a,{fw:400,size:"xs",children:i.employee.account.status})})]})]})})},d))]}),(e==null?void 0:e.length)==0&&s.jsx("div",{className:"bg-white p-4 rounded-xl",children:s.jsxs("div",{className:"mt-2 px-3 py-2",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(y,{src:"/images/not-found.svg",style:{width:"120px"}})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(a,{fw:700,size:"md",children:"Ups!"})}),s.jsx("div",{className:"flex justify-center -mt-1",children:s.jsx(a,{fw:700,size:"sm",children:"Pegawai kosong"})}),s.jsx("div",{className:"flex justify-center -mt-1",children:s.jsx(a,{fw:400,size:"xs",children:"Jadwal belum diterbitkan"})}),s.jsx("div",{className:"flex justify-center mt-1",children:s.jsx(v,{w:"100%",size:"sm",color:"yellow",onClick:()=>c("/employee-schedule"),children:"Atur jadwal"})})]})})]})},rs="https://dianlucky.my.id/api",os=({employee:e})=>s.jsxs("section",{className:"mx-auto max-w-sm bg-white w-full shadow-sm rounded-xl z-50 relative p-2 px-2 text-slate-700 mb-4 mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs items-center p-2 px-2 -mt-1 -mb-1",children:[s.jsx("div",{children:s.jsx(a,{fw:600,c:"#654433",children:"Detail pegawai"})}),s.jsx("div",{className:"my-auto text-right mb-1 me-1",children:s.jsx($,{})})]}),s.jsx(o,{size:"sm"}),s.jsxs("div",{className:"grid grid-cols-12 mt-3 mb-2 px-1 ml-3",children:[s.jsx("div",{className:"col-span-2 m-auto",children:s.jsx(y,{radius:"30px",h:50,w:50,src:e.profile_pic?`${rs}/uploads/employees/${e.profile_pic}`:"/images/profile-default.png"})}),s.jsx("div",{className:"col-span-1",children:s.jsx("div",{className:"w-px h-full bg-gray-300 mx-4"})}),s.jsxs("div",{className:"col-span-9 ml-2",children:[s.jsxs("div",{children:[s.jsx(a,{fw:400,size:"xs",children:"Nama pegawai :"}),s.jsx(a,{fw:700,size:"sm",truncate:"end",children:e.name})]}),s.jsx("div",{children:s.jsx(o,{})}),s.jsxs("div",{children:[s.jsx(a,{fw:400,size:"xs",children:"Status pegawai :"}),s.jsx(a,{fw:700,size:"sm",children:e.account.status})]})]})]}),s.jsx(o,{size:"sm"}),s.jsx("div",{className:"flex mt-1 mb-1 px-2",children:s.jsxs(a,{fw:600,size:"xs",children:["Awal bekerja :"," ",e.created_at&&p(e.created_at,"EEEE, dd MMMM yyyy",{locale:g})]})})]}),ms=({salary:e,schedules:t,refetchSalary:c})=>{const[i,d]=r.useState(0);console.log(i),r.useEffect(()=>{d(t.filter(m=>m.attendance_status=="Present"||m.attendance_status=="Late"||m.attendance_status=="Working").length*4e4)},[e,t]);const j=async()=>{const m=document.getElementById("salary-slip");if(!m)return;const n=await V(m,{scale:2,useCORS:!0}),w=n.toDataURL("image/png"),f=new q("p","mm","a4"),l=f.internal.pageSize.getWidth(),h=f.internal.pageSize.getHeight(),S=n.width,D=n.height,k=Math.min(l/S,h/D),M=S*k,C=D*k,T=(l-M)/2,L=(h-C)/2;f.addImage(w,"PNG",T,L,M,C),f.save(`slip-gaji-${Date.now()}.pdf`)},[N,{open:u,close:x}]=P(!1),b=U(),z=async m=>{b.mutateAsync(m,{onSuccess:n=>{console.log("Success Delete:",n),R({message:"Berhasil menghapus data gaji pegawai",color:"green",position:"top-center"}),c(),x()}})};return s.jsxs("div",{id:"salary-slip",className:"bg-white shadow-sm rounded-xl p-4",children:[s.jsxs("div",{className:"flex justify-between mb-1 px-2",children:[s.jsx("div",{className:"text-dark font-semibold cursor-pointer text-md",children:"Slip gaji pegawai"}),s.jsxs("div",{className:"my-auto mb-1",children:[s.jsx(v,{size:"compact-sm",onClick:j,className:"h-6 w-6 px-0 py-0 min-w-0",children:s.jsx(Z,{className:"w-4 h-4"})}),s.jsx(v,{size:"compact-sm",color:"red",ml:2,onClick:()=>{u()},children:s.jsx(ss,{size:20})})]})]}),s.jsx(o,{}),s.jsxs("div",{className:"text-center mt-2 mb-3",children:[s.jsx("div",{children:s.jsx(a,{fw:"bold",size:"md",children:"ANGKRINGAN KULAKITA"})}),s.jsx("div",{children:s.jsx(a,{size:"10px",children:"Jl. Ahmad Yani, Angsau, Kec. Pelaihari, Kab. Tanah Laut, Kalimantan Selatan 70815"})})]}),s.jsx(o,{}),s.jsxs("div",{className:"px-2 mt-1 mb-2",children:[s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Nama"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(a,{size:"13px",children:e==null?void 0:e.employee.name})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Jabatan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(a,{size:"13px",children:e==null?void 0:e.employee.account.level})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Status"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(a,{size:"13px",children:e==null?void 0:e.employee.account.status})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Bulan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(a,{size:"13px",children:e!=null&&p(e.date,"MMMM yyyy",{locale:g})})})]})]}),s.jsx(o,{}),s.jsxs("div",{className:"px-2 mt-1 mb-2",children:[s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Gaji pokok"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsx(a,{size:"13px",children:e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.amount-e.bonus+e.cash_advance+e.salary_deduction)}`})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Bonus"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsxs(a,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.bonus)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-7",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Total pendapatan :"," "]})}),s.jsx("div",{className:"col-span-5 mt-1 text-end",children:s.jsxs(a,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.amount+e.cash_advance+e.salary_deduction)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12 mt-3",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Potongan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsxs(a,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.salary_deduction)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Kasbon"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsxs(a,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.cash_advance)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-7",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Total potongan :"," "]})}),s.jsx("div",{className:"col-span-5 mt-1 text-end",children:s.jsxs(a,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.salary_deduction+e.cash_advance)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12 mt-3 mb-2",children:[s.jsx("div",{className:"col-span-5",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Gaji diterima"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-6 mt-1 text-end",children:s.jsxs(a,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.amount)}`]})})]}),s.jsx(o,{}),s.jsxs("div",{className:"grid grid-cols-12 mb-2 mt-1",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(a,{size:"sm",fw:"bold",children:["Catatan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(a,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1",children:s.jsxs(a,{size:"13px",children:[" ",e==null?void 0:e.note]})})]}),s.jsx(o,{}),s.jsxs("div",{className:"grid grid-cols-12 mt-4 mb-2",children:[s.jsx("div",{className:"col-span-3"}),s.jsxs("div",{className:"col-span-9 text-center",children:[s.jsxs(a,{size:"xs",children:["Tanah Laut,"," ",e!=null&&p(e==null?void 0:e.created_at,"dd MMMM yyyy",{locale:g})]}),s.jsxs(a,{size:"xs",m:6,fs:"italic",children:["M. Hafiz Anshari"," "]}),s.jsx(a,{size:"xs",children:"(Owner Kulakita)"})]})]})]}),s.jsx(A,{opened:N,onClose:x,withCloseButton:!1,children:s.jsxs("div",{className:"px-1",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(a,{fw:500,size:"md",children:"Apakah anda yakin ingin menghapus data gaji"}),s.jsxs(a,{fw:700,size:"md",c:"red",children:[e.employee.name," ||"," ",p(e.date,"MMMM yyyy",{locale:g})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(v,{fullWidth:!0,color:"grey",onClick:()=>x(),children:"Tidak"}),s.jsx(v,{fullWidth:!0,color:"blue",onClick:()=>z(e.id),children:"Ya"})]})]})})]})},xs=4e4,hs=({cashAdvances:e,employee:t,month:c,RefetchSalary:i,schedules:d})=>{const[j,{open:N,close:u}]=P(!1),[x,b]=r.useState(0),[z,m]=r.useState(0);r.useEffect(()=>{b(e.filter(l=>l.status==="accepted").reduce((l,h)=>l+h.amount,0)),m(d.filter(l=>l.attendance_status=="Present"||l.attendance_status=="Late"||l.attendance_status=="Working"&&l.status=="on").length*xs)},[e,d]);const n=es({validateInputOnChange:!0,initialValues:{salary_deduction:0,bonus:0,note:""}}),w=H(),f=async l=>{l.preventDefault();const h={bonus:n.values.bonus,salary_deduction:n.values.salary_deduction,cash_advance:x,note:n.values.note,date:c,amount:z+n.values.bonus-(n.values.salary_deduction+x),employee_id:t.id};await w.mutateAsync(h,{onSuccess:S=>{console.log("Success:",S),n.reset(),R({message:"Berhasil menambahkan slip gaji pegawai",color:"green",position:"top-center"}),i(),u()}})};return s.jsxs("section",{className:"mx-auto max-w-sm bg-white w-full shadow-lg rounded-xl z-50 relative p-2 px-2 text-slate-700 mb-30 -mt-2",children:[s.jsxs("div",{className:"flex justify-between text-xs items-center p-2 px-2 -mt-1 -mb-1",children:[s.jsx("div",{children:s.jsx(a,{fw:600,c:"#654433",children:"Slip gaji"})}),s.jsx("div",{className:"flex mb-1 mr-1 gap-1"})]}),s.jsx(o,{size:"sm"}),s.jsxs("div",{className:"text-center mt-10",children:[s.jsx("div",{className:"ml-10",children:s.jsx(y,{className:"ml-15",src:"/images/not-found.svg",style:{width:"120px"}})}),s.jsxs("div",{className:"px-10",children:[s.jsx(a,{fw:700,c:"#343a40",children:"Ups!"}),s.jsx(a,{fw:700,mt:-5,size:"sm",c:"#343a40",children:"Slip gaji belum dibuat .."})]}),s.jsx("div",{className:"mt-2 mb-20 px-10",children:s.jsx(v,{color:"yellow",fullWidth:!0,onClick:N,children:"Buat slip gaji"})})]}),s.jsxs(A,{opened:j,onClose:u,title:"Buat slip gaji",children:[s.jsxs("div",{className:"bg-slate-200 rounded-xl shadow-sm grid grid-cols-12 p-5",children:[s.jsx("div",{className:"col-span-12 -mt-2",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{children:s.jsx(a,{size:"sm",children:"Nama : "})}),s.jsx("div",{className:"ml-2",children:s.jsx(a,{size:"sm",fw:"bold",children:t.name})})]})}),s.jsxs("div",{className:"col-span-12",children:[s.jsxs("div",{className:"flex",children:[s.jsx("div",{children:s.jsx(a,{size:"sm",children:"Bulan : "})}),s.jsx("div",{className:"ml-2",children:s.jsx(a,{size:"sm",fw:"bold",children:p(c,"MMMM yyyy",{locale:g})})})]}),s.jsx(o,{color:"black"})]}),s.jsx("div",{className:"col-span-6 mt-2",children:s.jsxs("div",{children:[s.jsx(a,{size:"sm",children:"Kehadiran :"}),s.jsxs(a,{size:"sm",fw:"bold",mt:-3,children:[d.filter(l=>l.attendance_status=="Present"||l.attendance_status=="Late"||l.attendance_status=="Working"&&l.status=="on").length," ","hari"]})]})}),s.jsx("div",{className:"col-span-6 mt-2",children:s.jsxs("div",{children:[s.jsx(a,{size:"sm",children:"Terlambat :"}),s.jsxs(a,{size:"sm",fw:"bold",mt:-3,children:[d.filter(l=>l.attendance_status=="Late"&&l.status=="on").length," ","kali"]})]})}),s.jsx("div",{className:"col-span-6 mt-2",children:s.jsxs("div",{children:[s.jsx(a,{size:"sm",children:"Cuti :"}),s.jsxs(a,{size:"sm",fw:"bold",mt:-3,children:[d.filter(l=>l.status=="off").length," hari"]})]})}),s.jsx("div",{className:"col-span-6 mt-2",children:s.jsxs("div",{children:[s.jsx(a,{size:"sm",children:"Izin :"}),s.jsxs(a,{size:"sm",fw:"bold",mt:-3,children:[d.filter(l=>l.status=="Leave").length," hari"]})]})}),s.jsx("div",{className:"col-span-6 mt-2 mb-1",children:s.jsxs("div",{children:[s.jsx(a,{size:"sm",children:"Total kasbon :"}),s.jsxs(a,{size:"sm",fw:"bold",mt:-3,children:["Rp. ",new Intl.NumberFormat("id-ID").format(x)]})]})}),s.jsx("div",{className:"col-span-6 mt-2 mb-1",children:s.jsxs("div",{children:[s.jsx(a,{size:"sm",children:"Total gaji :"}),s.jsxs(a,{size:"sm",fw:"bold",mt:-3,children:["Rp. ",new Intl.NumberFormat("id-ID").format(z)]})]})})]}),s.jsx("form",{onSubmit:f,children:s.jsxs("div",{className:"px-2",children:[s.jsx("div",{children:s.jsx(_,{label:"Potongan gaji",leftSection:"Rp.",size:"sm",placeholder:"Opsional",allowDecimal:!1,decimalSeparator:",",thousandSeparator:".",hideControls:!0,...n.getInputProps("salary_deduction")},n.key("salary_deduction"))}),s.jsx("div",{children:s.jsx(_,{label:"Bonus pegawai",leftSection:"Rp.",size:"sm",placeholder:"Opsional",allowDecimal:!1,decimalSeparator:",",thousandSeparator:".",hideControls:!0,...n.getInputProps("bonus")},n.key("bonus"))}),s.jsx("div",{children:s.jsx(as,{label:"Catatan",placeholder:"Catatan untuk pegawai",size:"sm",...n.getInputProps("note")},n.key("note"))}),s.jsx("div",{className:" mt-2 mb-2",children:s.jsx(a,{size:"10px",c:"red",children:"*Harap periksa kembali data rekap dan inputan Anda sebelum menekan tombol Simpan. Setelah gaji diterbitkan, data tidak dapat dihapus!"})}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(v,{size:"sm",color:"grey",onClick:()=>u(),fullWidth:!0,children:"Kembali"}),s.jsx(v,{size:"sm",color:"blue",type:"submit",fullWidth:!0,children:"Simpan"})]})]})})]})]})},Rs=()=>{const e=I(),[t,c]=r.useState(p(new Date,"yyyy-MM-dd",{locale:g}));console.log(t);const[i,d]=r.useState([]),{data:j}=Q(t);return r.useEffect(()=>{d(j||[])},[j]),s.jsxs("main",{children:[s.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),s.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{children:s.jsx(B,{onClick:()=>{e(-1)},size:21,className:"font-bold rounded-md"})}),s.jsx("div",{className:"font-semibold text-brown",children:s.jsx("h2",{className:"font-semibold",children:"Gaji pegawai"})}),s.jsx("div",{})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"mt-2 mx-6",children:s.jsx(cs,{setMonth:c})}),s.jsx("div",{className:" mx-6 mb-20",children:s.jsx(ds,{employees:i,month:p(t,"yyyy-MM")})})]})]})},Bs=()=>{const e=I(),t=F(),c=t.state.data.employee,i=t.state.data.month,[d,j]=r.useState(p(new Date,"yyyy-MM-dd",{locale:g}));console.log(d);const[N,u]=r.useState(),{data:x,refetch:b,isLoading:z}=X(i,c.id);r.useEffect(()=>{u(x||void 0)},[x]),console.log("Gaji : ",N);const[m,n]=r.useState([]),{data:w}=is(i,c.id);r.useEffect(()=>{w&&n(w)},[w]);const[f,l]=r.useState([]),{data:h}=ts(i,c.id);return r.useEffect(()=>{h&&l(h)},[h]),s.jsxs("main",{children:[s.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),s.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{children:s.jsx(B,{onClick:()=>{e(-1)},size:21,className:"font-bold rounded-md"})}),s.jsx("div",{className:"font-semibold text-brown",children:s.jsx("h2",{className:"font-semibold",children:"Detail gaji pegawai"})}),s.jsx("div",{})]})}),s.jsxs("div",{children:[s.jsx("div",{className:"mt-2 mx-6",children:s.jsx(os,{employee:c})}),s.jsx("div",{className:"-mt-2 mx-6 -mb-4",children:s.jsx(ls,{setSelectedDate:j,schedules:m})}),N&&!z?s.jsx("div",{className:"mt-6 mx-6 mb-20",children:s.jsx(ms,{salary:N,refetchSalary:b,schedules:m})}):s.jsx("div",{className:"mt-6 mx-6",children:s.jsx(hs,{cashAdvances:f,employee:c,month:i,RefetchSalary:b,schedules:m})})]})]})};export{hs as CreateSalarySection,os as DetailEmployeeSection,Bs as DetailSalaryOwnerPage,ds as EmployeeSalaryList,cs as MonthPickerSection,ms as PayslipSection,Rs as SalaryOwnerPage,$s as createSalary,H as useCreateSalary,U as useDeleteSalary};
