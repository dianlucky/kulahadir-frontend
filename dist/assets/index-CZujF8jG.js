import{j as s,B as u,D as t,T as i,c as x,i as h,I as w,h as z,b as I,r as m}from"./index-DchbcEn3.js";import{M as S}from"./MonthPickerSection-BDnQSowL.js";import{h as D,E as M,u as R}from"./getSalary-CKmuVm4g.js";import{I as G}from"./IconDownload-BBLWBjfm.js";import{I as _}from"./IconChevronLeft-Ba9bOv7c.js";import"./IconCalendar-BAhAwLuv.js";import"./MonthPicker-BoS0f_JJ.js";import"./use-dates-state-C-id8Dn8.js";const F=({salary:e})=>{console.log("Gaji pegawai : ",e);const r=async()=>{const l=document.getElementById("salary-slip");if(!l)return;const n=await D(l,{scale:2,useCORS:!0}),a=n.toDataURL("image/png"),d=new M("p","mm","a4"),c=d.internal.pageSize.getWidth(),o=d.internal.pageSize.getHeight(),j=n.width,p=n.height,v=Math.min(c/j,o/p),N=j*v,f=p*v,g=(c-N)/2,b=(o-f)/2;d.addImage(a,"PNG",g,b,N,f),d.save(`slip-gaji-${Date.now()}.pdf`)};return s.jsxs("div",{id:"salary-slip",className:"bg-white shadow-sm p-4",children:[s.jsxs("div",{className:"flex justify-between mb-1 px-2",children:[s.jsx("div",{className:"text-dark font-semibold cursor-pointer text-md",children:"Slip gaji pegawai"}),s.jsx("div",{className:"my-auto mb-1",children:s.jsx(u,{size:"compact-sm",onClick:r,className:"h-6 w-6 px-0 py-0 min-w-0",children:s.jsx(G,{className:"w-4 h-4"})})})]}),s.jsx(t,{}),s.jsxs("div",{className:"text-center mt-2 mb-3",children:[s.jsx("div",{children:s.jsx(i,{fw:"bold",size:"md",children:"ANGKRINGAN KULAKITA"})}),s.jsx("div",{children:s.jsx(i,{size:"10px",children:"Jl. Ahmad Yani, Angsau, Kec. Pelaihari, Kab. Tanah Laut, Kalimantan Selatan 70815"})})]}),s.jsx(t,{}),s.jsxs("div",{className:"px-2 mt-1 mb-2",children:[s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Nama"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(i,{size:"13px",children:e==null?void 0:e.employee.name})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Jabatan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(i,{size:"13px",children:e==null?void 0:e.employee.account.level})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Status"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(i,{size:"13px",children:e==null?void 0:e.employee.account.status})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-3",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Bulan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-8 mt-1",children:s.jsx(i,{size:"13px",children:e!=null&&x(e.date,"MMMM yyyy",{locale:h})})})]})]}),s.jsx(t,{}),s.jsxs("div",{className:"px-2 mt-1 mb-2",children:[s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Gaji pokok"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsx(i,{size:"13px",children:e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.amount-e.bonus+e.cash_advance+e.salary_deduction)}`})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Bonus"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsxs(i,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.bonus)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-7",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Total pendapatan :"," "]})}),s.jsx("div",{className:"col-span-5 mt-1 text-end",children:s.jsxs(i,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.amount+e.cash_advance+e.salary_deduction)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12 mt-3",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Potongan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsxs(i,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.salary_deduction)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Kasbon"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1 text-end",children:s.jsxs(i,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.cash_advance)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-7",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Total potongan :"," "]})}),s.jsx("div",{className:"col-span-5 mt-1 text-end",children:s.jsxs(i,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.salary_deduction+e.cash_advance)}`]})})]}),s.jsxs("div",{className:"grid grid-cols-12 mt-3 mb-2",children:[s.jsx("div",{className:"col-span-5",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Gaji diterima"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-6 mt-1 text-end",children:s.jsxs(i,{size:"13px",children:[" ",e!=null&&` Rp. ${new Intl.NumberFormat("id-ID").format(e.amount)}`]})})]}),s.jsx(t,{}),s.jsxs("div",{className:"grid grid-cols-12 mb-2 mt-1",children:[s.jsx("div",{className:"col-span-4",children:s.jsxs(i,{size:"sm",fw:"bold",children:["Catatan"," "]})}),s.jsx("div",{className:"col-span-1",children:s.jsx(i,{size:"sm",fw:"bold",children:":"})}),s.jsx("div",{className:"col-span-7 mt-1",children:s.jsxs(i,{size:"13px",children:[" ",e==null?void 0:e.note]})})]}),s.jsx(t,{}),s.jsxs("div",{className:"grid grid-cols-12 mt-4 mb-2",children:[s.jsx("div",{className:"col-span-3"}),s.jsxs("div",{className:"col-span-9 text-center",children:[s.jsxs(i,{size:"xs",children:["Tanah Laut,"," ",e!=null&&x(e==null?void 0:e.created_at,"dd MMMM yyyy",{locale:h})]}),s.jsxs(i,{size:"xs",m:6,fs:"italic",children:["Hafiz Anshari"," "]}),s.jsx(i,{size:"xs",children:"(Owner Kulakita)"})]})]})]})]})},k=()=>s.jsx("div",{className:"bg-white shadow-sm p-4 rounded-xl",children:s.jsxs("div",{className:"mt-2 px-3 py-2",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(w,{src:"/images/not-found.svg",style:{width:"120px"}})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(i,{fw:700,size:"md",children:"Ups!"})}),s.jsx("div",{className:"flex justify-center -mt-1",children:s.jsx(i,{fw:700,size:"sm",children:"Gaji masih belum diterbitkan"})}),s.jsx("div",{className:"flex justify-center -mt-1",children:s.jsx(i,{fw:400,size:"xs",children:"Yang sabar yaa...."})})]})}),H=()=>{const{creds:e}=z(),r=I(),[l,n]=m.useState(x(new Date,"yyyy-MM",{locale:h})),[a,d]=m.useState(),{data:c,refetch:o}=R(l,e==null?void 0:e.employee_id);return m.useEffect(()=>{d(c||void 0)},[c]),m.useEffect(()=>{o()},[l]),console.log("Gaji :",a),s.jsxs("main",{children:[s.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),s.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:s.jsxs("div",{className:"grid grid-cols-12",children:[s.jsx("div",{className:"col-span-1",children:s.jsx(_,{onClick:()=>{r(-1)},size:21,className:"font-bold rounded-md"})}),s.jsx("div",{className:"col-span-11 text-center -ml-4 font-semibold text-brown",children:s.jsx("h2",{className:"font-semibold",children:"Gaji"})})]})}),s.jsx("div",{className:"mt-2 mx-6",children:s.jsx(S,{setSelectedMonth:n})}),s.jsx("div",{className:"mt-2 mx-6 mb-20",children:a?s.jsx(F,{salary:a}):s.jsx(k,{})})]})};export{k as SalaryNotFound,H as SalaryPage,F as SalarySection};
