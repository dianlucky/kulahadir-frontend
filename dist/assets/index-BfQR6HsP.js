import{b as m,j as s,T as a,c as x,i as v,I as g,h as w,r as i,P as r,U as b,D as N,B as y}from"./index-D13YgGcN.js";import{B as z}from"./Badge-Bv-ZFimK.js";import{u as C}from"./getCashAdvance-DaZoTBa0.js";import{I as S}from"./IconChevronLeft-G5iTamZx.js";import{I as A}from"./IconAdjustments-VbMpA8DQ.js";import{S as I}from"./Select-DWS_nW1X.js";import"./Input-D0PCLz88.js";import"./CheckIcon-DUYkGu2C.js";import"./InputBase-BJOZdEhw.js";const k=({cashAdvances:t,status:l})=>{const d=m();return s.jsxs(s.Fragment,{children:[t.filter(e=>e.status===l).map((e,c)=>s.jsx("button",{onClick:()=>d("/cash-advance-request/detail",{state:e}),children:s.jsx("section",{className:"bg-white shadow-md rounded-xl p-1",children:s.jsxs("div",{className:"grid grid-cols-12 p-2",children:[s.jsxs("div",{className:"col-span-2 text-center",children:[s.jsx(a,{fw:"bold",size:"25px",children:x(e.date,"dd")}),s.jsx(a,{size:"13px",children:x(e.date,"MMM",{locale:v})})]}),s.jsx("div",{className:"col-span-1",children:s.jsx("div",{className:"w-px h-full bg-gray-300 mx-4"})}),s.jsxs("div",{className:"col-span-9",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx(z,{radius:"xs",size:"xs",color:e.status=="accepted"?"green":"red",children:e.status})}),s.jsx("div",{className:"w-full -mt-2 -ml-10",children:s.jsxs(a,{fw:"bold",size:"lg",children:["Rp. ",new Intl.NumberFormat("id-ID").format(e.amount)]})})]})]})})},c)),t.length==0&&s.jsx("div",{className:"bg-white shadow-sm p-4 rounded-xl",children:s.jsxs("div",{className:"mt-2 px-3 py-2",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(g,{src:"/images/not-found.svg",style:{width:"120px"}})}),s.jsx("div",{className:"flex justify-center",children:s.jsx(a,{fw:700,size:"md",children:"Ups!"})}),s.jsx("div",{className:"flex justify-center -mt-1",children:s.jsx(a,{fw:700,size:"sm",children:"Belum ada yang disetujui"})}),s.jsx("div",{className:"flex justify-center -mt-1",children:s.jsx(a,{fw:400,size:"xs",children:"Yang sabar yaa...."})})]})})]})},U=()=>{const{creds:t}=w(),l=m(),[d,e]=i.useState(!1),[c,h]=i.useState([]),{data:n}=C(t==null?void 0:t.employee_id);i.useEffect(()=>{n&&h(n)},[n]);const[o,j]=i.useState("accepted"),[u,f]=i.useState("accepted");return s.jsxs("main",{children:[s.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),s.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{children:s.jsx(S,{onClick:()=>{l(-1)},size:21,className:"font-bold rounded-md"})}),s.jsx("div",{className:"font-semibold text-brown ",children:s.jsx("h2",{className:"font-semibold",children:"Riwayat kasbon"})}),s.jsx("div",{children:s.jsxs(r,{width:200,position:"bottom",withArrow:!0,shadow:"md",opened:d,closeOnClickOutside:!0,children:[s.jsx(r.Target,{children:s.jsx(b,{size:"xs",onClick:()=>e(p=>!p),children:s.jsx(A,{color:"#4E71FF"})})}),s.jsx(r.Dropdown,{children:s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx(a,{size:"sm",fw:"bolder",children:"Filter data"}),s.jsx(I,{label:"Status",size:"xs",value:o,onChange:j,data:[{label:"disetujui",value:"accepted"},{label:"ditolak",value:"rejected"}]})]}),s.jsx(N,{}),s.jsx("div",{children:s.jsx(y,{fullWidth:!0,size:"xs",onClick:()=>{f(o),e(!1)},children:"Simpan"})})]})})]})})]})}),s.jsx("div",{className:"mt-2 mx-6",children:s.jsx(k,{status:u,cashAdvances:c})})]})};export{U as HistoryCashAdvancePage};
