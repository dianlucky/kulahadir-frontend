import{g as p,h as S,r as i,j as e,A as B,T as n,D as g,c as r,i as f,b as _,B as P}from"./index-DhziyjX6.js";import{M as w}from"./MenuList-ZWXwtL5C.js";import{a as F}from"./getSchedule-MAKfxnyw.js";import{a as H}from"./getAttendance-C_oeT6yV.js";import{B as y}from"./Badge-BmcT5mAf.js";import{I as C}from"./IconClockHour8-D1AHyfr1.js";import{t as L,s as A}from"./index-DqK5uH1A.js";import{u as R}from"./getSchedule-CZdOThQ6.js";import{R as G}from"./RingProgress-BKvzzgoS.js";import{u as J}from"./getEmployee-BG0JRtty.js";import{I as k}from"./IconCalendar-CY0wv-Qm.js";import{I as M}from"./IconCashRegister-Dvo4In5Z.js";import{I as U}from"./IconUsers-Bk29FYiS.js";import{R as ue}from"./RequestList-Dgccht8Z.js";import"./addDays-BZLHcBmN.js";import"./Tooltip-BVzGkhGm.js";import"./get-style-object-DUJZA7T_.js";/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var N=p("outline","calendar-cancel","IconCalendarCancel",[["path",{d:"M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-4"}],["path",{d:"M17 21l4 -4",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z=p("outline","file-dollar","IconFileDollar",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M14 11h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M12 17v1m0 -8v1",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W=p("outline","list-check","IconListCheck",[["path",{d:"M3.5 5.5l1.5 1.5l2.5 -2.5",key:"svg-0"}],["path",{d:"M3.5 11.5l1.5 1.5l2.5 -2.5",key:"svg-1"}],["path",{d:"M3.5 17.5l1.5 1.5l2.5 -2.5",key:"svg-2"}],["path",{d:"M11 6l9 0",key:"svg-3"}],["path",{d:"M11 12l9 0",key:"svg-4"}],["path",{d:"M11 18l9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var I=p("outline","packages","IconPackages",[["path",{d:"M7 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-0"}],["path",{d:"M2 13.5v5.5l5 3",key:"svg-1"}],["path",{d:"M7 16.545l5 -3.03",key:"svg-2"}],["path",{d:"M17 16.5l-5 -3l5 -3l5 3v5.5l-5 3z",key:"svg-3"}],["path",{d:"M12 19l5 3",key:"svg-4"}],["path",{d:"M17 16.5l5 -3",key:"svg-5"}],["path",{d:"M12 13.5v-5.5l-5 -3l5 -3l5 3v5.5",key:"svg-6"}],["path",{d:"M7 5.03v5.455",key:"svg-7"}],["path",{d:"M12 8l5 -3",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q=p("outline","snowflake","IconSnowflake",[["path",{d:"M10 4l2 1l2 -1",key:"svg-0"}],["path",{d:"M12 2v6.5l3 1.72",key:"svg-1"}],["path",{d:"M17.928 6.268l.134 2.232l1.866 1.232",key:"svg-2"}],["path",{d:"M20.66 7l-5.629 3.25l.01 3.458",key:"svg-3"}],["path",{d:"M19.928 14.268l-1.866 1.232l-.134 2.232",key:"svg-4"}],["path",{d:"M20.66 17l-5.629 -3.25l-2.99 1.738",key:"svg-5"}],["path",{d:"M14 20l-2 -1l-2 1",key:"svg-6"}],["path",{d:"M12 22v-6.5l-3 -1.72",key:"svg-7"}],["path",{d:"M6.072 17.732l-.134 -2.232l-1.866 -1.232",key:"svg-8"}],["path",{d:"M3.34 17l5.629 -3.25l-.01 -3.458",key:"svg-9"}],["path",{d:"M4.072 9.732l1.866 -1.232l.134 -2.232",key:"svg-10"}],["path",{d:"M3.34 7l5.629 3.25l2.99 -1.738",key:"svg-11"}]]);const O=()=>{const{creds:a}=S(),c=(()=>{const m=L(new Date,"Asia/Makassar");if(m.getHours()<3){const t=A(m);return r(t,"yyyy-MM-dd")}return r(m,"yyyy-MM-dd")})(),[s,j]=i.useState(),{data:d,isLoading:u}=F(a==null?void 0:a.employee_id,c),[o,v]=i.useState(),{data:x}=H(s==null?void 0:s.id);return i.useEffect(()=>{d&&j(d)},[d]),i.useEffect(()=>{x&&v(x)},[x]),u?e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(B,{})}):(console.log("Data Schedule :",s),console.log("Data attendance :",o),e.jsxs("section",{className:"mx-auto max-w-xs bg-white  w-full shadow-lg rounded-xl z-50 relative p-2 px-2 text-slate-700 mb-2 -mt-16",children:[e.jsxs("div",{className:"flex justify-between text-xs items-center p-2 -mt-1 -mb-1",children:[e.jsx("div",{children:e.jsx(n,{fw:700,c:"#654433",children:"Jadwal"})}),e.jsx("div",{className:"my-auto text-right -mt-2 me-2",children:e.jsx(y,{size:"sm",className:"uppercase",style:{marginTop:"7px",marginLeft:"4px",borderRadius:"2px"},color:(s==null?void 0:s.status)=="on"?"green":"red",children:s==null?void 0:s.status})})]}),e.jsx(g,{size:"sm"}),s&&e.jsxs("div",{className:"divide-y divide-gray-500",children:[e.jsxs("div",{className:"w-full grid grid-cols-12 p-1 -mb-2",children:[e.jsxs("div",{className:"col-span-3 text-center m-auto p-1",children:[e.jsx(n,{size:"35px",fw:700,children:s==null?void 0:s.shift_code}),e.jsx(n,{style:{marginTop:"-5px"},size:"sm",children:"Malam"})]}),e.jsx(g,{orientation:"vertical",className:"col-span-1 ml-2 mb-2",style:{height:"95px"}}),e.jsxs("div",{className:"col-span-8 ms-2 -ml-2 text-left",children:[e.jsxs("div",{className:"ms-2 -mb-2",children:[e.jsx(n,{size:"xs",children:"Hari & tanggal : "}),e.jsx(n,{size:"sm",fw:700,children:(s==null?void 0:s.date)&&r(new Date(s.date),"EEEE, dd MMMM yyyy",{locale:f})})]}),e.jsx(g,{my:"sm"}),e.jsxs("div",{className:"-mt-2 w-full grid grid-cols-12 mb-1",children:[e.jsxs("div",{className:"col-span-6 text-left mt-1 ms-2",children:[e.jsx(n,{size:"xs",children:"Jam kerja"}),e.jsxs(n,{size:"sm",fw:700,children:[s==null?void 0:s.start_time," - ",s==null?void 0:s.end_time]})]}),e.jsx("div",{className:"col-span-6 text-right -mt-1"})]})]})]}),e.jsx(g,{size:"sm"}),e.jsxs("div",{className:"grid grid-cols-2 text-xs p-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{size:15,className:"text-green-400"})," Check-in :",o!=null&&o.check_in?r(new Date(o.check_in),"HH:mm",{locale:f}):"--:--"]}),e.jsxs("div",{className:"ps-3 flex gap-2",children:[e.jsx(C,{size:15,className:"text-rose-400"})," Check-out :"," ",o!=null&&o.check_out?r(new Date(o.check_out),"HH:mm",{locale:f}):"--:--"]})]})]}),!s&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("div",{className:"flex justify-center"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(n,{fw:700,size:"sm",c:"gray",children:"Ups!"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(n,{fw:700,size:"xs",c:"gray",children:"Jadwal tidak ditemukan"})})]})})]}))},$=()=>{const a=_(),c=(()=>{const t=L(new Date,"Asia/Makassar");if(t.getHours()<3){const b=A(t);return r(b,"yyyy-MM-dd")}return r(t,"yyyy-MM-dd")})();console.log("Formatted Date : ",c);const[s,j]=i.useState([]),{data:d}=R(c);i.useEffect(()=>{d&&j(d)},[d]);const[u,o]=i.useState(0),[v,x]=i.useState(0),[m,D]=i.useState(0);return i.useEffect(()=>{const t=s.length,E=s.filter(h=>h.attendance_status==="Working"||h.attendance_status==="Present").length,b=s.filter(h=>h.attendance_status==="Late").length,T=s.filter(h=>h.attendance_status==="belum hadir").length;o(E*100/t),x(b*100/t),D(T*100/t)},[s]),console.log("Present :",u),console.log("Late :",v),console.log("Absen :",m),e.jsx("section",{className:"mx-auto max-w-xs bg-white w-full shadow-lg rounded-xl z-50 relative p-2 px-2 mb-2 -mt-16",children:e.jsxs("div",{className:"px-3",children:[e.jsx("div",{className:"text-center mb-1",children:e.jsxs(n,{fw:600,size:"sm",children:["Rekap absensi"," ",r(new Date(c),"EEEE, dd MMMM yyyy",{locale:f})]})}),e.jsx(g,{}),e.jsxs("div",{className:"grid grid-cols-12 mt-2 mb-2",children:[e.jsx("div",{className:"col-span-5",children:e.jsx(G,{size:130,thickness:20,label:e.jsxs(n,{fw:700,size:"16px",ta:"center",children:[s.filter(t=>t.attendance_status=="Working"||t.attendance_status=="Present"||t.attendance_status=="Late").length,"/",s.length]}),sections:[{value:u,color:"#8FD14F"},{value:v,color:"yellow"},{value:m,color:"grey"}]})}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"w-px h-full bg-gray-300 mx-4"})}),e.jsxs("div",{className:"col-span-6 my-auto ml-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx(y,{color:"#8FD14F",size:"md",children:s.filter(t=>t.attendance_status=="Present"||t.attendance_status=="Working").length}),e.jsx(n,{fw:"bold",size:"xs",ml:3,children:"Hadir"})]}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx(y,{color:"yellow",size:"md",children:s.filter(t=>t.attendance_status=="Late").length}),e.jsx(n,{fw:"bold",size:"xs",ml:3,children:"Terlambat"})]}),e.jsxs("div",{className:"flex mt-2",children:[e.jsx(y,{color:"grey",size:"md",children:s.filter(t=>t.attendance_status=="belum hadir").length}),e.jsx(n,{fw:"bold",size:"xs",ml:3,children:"Belum hadir"})]})]})]}),e.jsx(g,{}),e.jsx("div",{className:"w-full my-2",children:e.jsx(P,{fullWidth:!0,size:"xs",color:"#654433",onClick:()=>{a("/employee-attendances")},children:"Cek kehadiran"})})]})})},K="https://dianlucky.my.id/api",Z="/images/profile-default.png",he=()=>{const{creds:a}=S(),[l,c]=i.useState(),{data:s}=J(a==null?void 0:a.id);return i.useEffect(()=>{s&&c(s)},[s]),e.jsxs("main",{children:[e.jsxs("section",{className:"bg-brown w-full rounded-b-3xl px-5 pt-8 pb-20 relative",children:[e.jsx("img",{src:"../images/making presentations.svg",className:"absolute w-32 right-5 top-1 opacity-85",alt:""}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("div",{className:"bg-brown rounded-full p-1 w-[52px] h-[52px] overflow-hidden border-4 border-gray-800",children:e.jsx("img",{src:l!=null&&l.profile_pic?`${K}/uploads/employees/${l==null?void 0:l.profile_pic}`:Z,alt:"Foto Profil",className:"w-full h-full object-cover rounded-full"})})}),e.jsxs("div",{className:"col-span-10 my-auto",children:[e.jsx("div",{className:"text-white text-lg font-bold relative z-10",children:l==null?void 0:l.name}),e.jsx("div",{className:"text-sm text-white -mt-2",children:l==null?void 0:l.account.status}),e.jsx("div",{className:"absolute right-5 top-5",children:e.jsx("img",{src:"/images/white-logo.png",alt:"",className:"w-14"})})]})]})]}),(a==null?void 0:a.level)=="Pegawai"&&e.jsx(O,{}),(a==null?void 0:a.level)=="Owner"&&e.jsx($,{}),e.jsxs("section",{className:"px-7 mt-5",style:{marginBottom:"-110px"},children:[(a==null?void 0:a.status)=="Pegawai tetap"||(a==null?void 0:a.status)=="Part time"&&e.jsx(w,{navigations:[{title:"Jadwal bulanan",href:"/schedule",icon:k,color:"bg-brown"},{title:"Pengajuan kasbon",href:"/cash-advance-request",icon:M,color:"bg-brown"},{title:"Jadwal Cuti",href:"/paid-leave",icon:N,color:"bg-brown"},{title:"Gaji",href:"/salary",icon:z,color:"bg-brown"}]}),(a==null?void 0:a.status)=="Pengelola Gudang"&&e.jsx(w,{navigations:[{title:"Jadwal bulanan",href:"/schedule",icon:k,color:"bg-brown"},{title:"Pengajuan kasbon",href:"/cash-advance-request",icon:M,color:"bg-brown"},{title:"Jadwal Cuti",href:"/paid-leave",icon:N,color:"bg-brown"},{title:"Stok Gudang",href:"/warehouse-inventory",icon:I,color:"bg-brown"},{title:"Gaji",href:"/salary",icon:z,color:"bg-brown"}]}),(a==null?void 0:a.status)=="Owner"&&e.jsx(w,{navigations:[{title:"Data pegawai",href:"/employee-data",icon:U,color:"bg-brown"},{title:"Data Jadwal",href:"/employee-schedule",icon:k,color:"bg-brown"},{title:"Tugas Harian",href:"/daily-task",icon:W,color:"bg-brown"},{title:"Cuti Pegawai",href:"/employee-paid-leave",icon:N,color:"bg-brown"},{title:"Permintaan kasbon",href:"/employee-cash-advance",icon:M,color:"bg-brown"},{title:"Gaji pegawai",href:"/employee-salary",icon:z,color:"bg-brown"},{title:"Stok Gudang",href:"/warehouse-inventory",icon:I,color:"bg-brown"},{title:"Stok Frozen",href:"/frozen-inventory",icon:q,color:"bg-brown"}]})]})]})},ge=()=>{const a=_();return e.jsxs("main",{className:"flex items-center justify-center flex-col text-center h-screen pb-24 bg-blue-600",children:[e.jsx("img",{className:"w-52",src:"/images/development-maintenance.svg",alt:""}),e.jsxs("div",{className:"text-white",children:[e.jsx("h1",{className:"font-bold text-lg",children:"Fitur masih dalam tahap pengembangan"}),e.jsx(P,{variant:"white",color:"blue",radius:"10px",size:"xs",onClick:()=>a(-1),children:e.jsx("span",{className:"font-semibold",children:"Kembali"})})]})]})};export{ge as Development,he as Home,$ as RecapAttendanceCard,ue as RequestList,O as ScheduleCard};
