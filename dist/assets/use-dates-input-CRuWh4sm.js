import{d as T,s as $,u as V,b as ie}from"./use-dates-state-C-id8Dn8.js";import{j as l,f as ue,a5 as de,P as O,af as ce,z as fe}from"./index-DchbcEn3.js";import{u as me}from"./InputBase-CViaEvXX.js";import{I as F}from"./Input-CVfrLFOp.js";function pe({type:e,date:t,locale:o,format:r,labelSeparator:a}){const n=u=>T(u).locale(o).format(r);return e==="default"?t===null?"":n(t):e==="multiple"?t.map(n).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${n(t[0])} ${a} ${n(t[1])}`:t[0]?`${n(t[0])} ${a} `:"":""}function he({formatter:e,...t}){return(e||pe)(t)}function je({minDate:e,maxDate:t,timezone:o}){const r=$("add",new Date,o);return!e&&!t?r:e&&T(r).isBefore(e)?e:t&&T(r).isAfter(t)?t:r}function ge(e,t){const o=V(),r=a=>$("remove",a,o.getTimezone()).toISOString();if(t==="range"&&Array.isArray(e)){const[a,n]=e;return a?n?`${r(a)} – ${r(n)}`:`${r(a)} –`:""}return t==="multiple"&&Array.isArray(e)?e.map(a=>a&&r(a)).filter(Boolean).join(", "):!Array.isArray(e)&&e?r(e):""}function Y({value:e,type:t,name:o,form:r}){return l.jsx("input",{type:"hidden",value:ge(e,t),name:o,form:r})}Y.displayName="@mantine/dates/HiddenDatesInput";var v={input:"m_6fa5e2aa"};const De={},z=ue((e,t)=>{const{inputProps:o,wrapperProps:r,placeholder:a,classNames:n,styles:u,unstyled:d,popoverProps:s,modalProps:j,dropdownType:m,children:D,formattedValue:p,dropdownHandlers:i,dropdownOpened:h,onClick:g,clearable:x,onClear:y,clearButtonProps:w,rightSection:c,shouldClear:P,readOnly:f,disabled:I,value:C,name:_,form:k,type:L,...B}=me("PickerInputBase",De,e),M=l.jsx(F.ClearButton,{onClick:y,unstyled:d,...w}),A=()=>{L==="range"&&Array.isArray(C)&&C[0]&&!C[1]&&y(),i.close()};return l.jsxs(l.Fragment,{children:[m==="modal"&&!f&&l.jsx(de,{opened:h,onClose:A,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:d,...j,children:D}),l.jsx(F.Wrapper,{...r,children:l.jsxs(O,{position:"bottom-start",opened:h,trapFocus:!0,returnFocus:!1,unstyled:d,...s,disabled:(s==null?void 0:s.disabled)||m==="modal"||f,onChange:b=>{var S;b||((S=s==null?void 0:s.onClose)==null||S.call(s),A())},children:[l.jsx(O.Target,{children:l.jsx(F,{"data-dates-input":!0,"data-read-only":f||void 0,disabled:I,component:"button",type:"button",multiline:!0,onClick:b=>{g==null||g(b),i.toggle()},__clearSection:M,__clearable:x&&P&&!f&&!I,rightSection:c,...o,ref:t,classNames:{...n,input:ce(v.input,n==null?void 0:n.input)},...B,children:p||l.jsx(F.Placeholder,{error:o.error,unstyled:d,className:n==null?void 0:n.placeholder,style:u==null?void 0:u.placeholder,children:a})})}),l.jsx(O.Dropdown,{"data-dates-dropdown":!0,children:D})]})}),l.jsx(Y,{value:C,name:_,form:k,type:L})]})});z.classes=v;z.displayName="@mantine/dates/PickerInputBase";function we(e){const{maxLevel:t,minLevel:o,defaultLevel:r,level:a,onLevelChange:n,nextIcon:u,previousIcon:d,date:s,defaultDate:j,onDateChange:m,numberOfColumns:D,columnsToScroll:p,ariaLabels:i,nextLabel:h,previousLabel:g,onYearSelect:x,onMonthSelect:y,onYearMouseEnter:w,onMonthMouseEnter:c,onNextMonth:P,onPreviousMonth:f,onNextYear:I,onPreviousYear:C,onNextDecade:_,onPreviousDecade:k,withCellSpacing:L,highlightToday:B,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:A,withWeekNumbers:b,firstDayOfWeek:S,weekdayFormat:N,weekendDays:W,getDayProps:H,excludeDate:R,renderDay:E,hideOutsideDates:U,hideWeekdays:q,getDayAriaLabel:G,monthLabelFormat:J,monthsListFormat:K,getMonthControlProps:Q,yearLabelFormat:X,yearsListFormat:Z,getYearControlProps:ee,decadeLabelFormat:te,allowSingleDateInRange:re,allowDeselect:ne,minDate:ae,maxDate:oe,locale:se,...le}=e;return{calendarProps:{maxLevel:t,minLevel:o,defaultLevel:r,level:a,onLevelChange:n,nextIcon:u,previousIcon:d,date:s,defaultDate:j,onDateChange:m,numberOfColumns:D,columnsToScroll:p,ariaLabels:i,nextLabel:h,previousLabel:g,onYearSelect:x,onMonthSelect:y,onYearMouseEnter:w,onMonthMouseEnter:c,onNextMonth:P,onPreviousMonth:f,onNextYear:I,onPreviousYear:C,onNextDecade:_,onPreviousDecade:k,withCellSpacing:L,highlightToday:B,__updateDateOnYearSelect:M,__updateDateOnMonthSelect:A,withWeekNumbers:b,firstDayOfWeek:S,weekdayFormat:N,weekendDays:W,getDayProps:H,excludeDate:R,renderDay:E,hideOutsideDates:U,hideWeekdays:q,getDayAriaLabel:G,monthLabelFormat:J,monthsListFormat:K,getMonthControlProps:Q,yearLabelFormat:X,yearsListFormat:Z,getYearControlProps:ee,decadeLabelFormat:te,allowSingleDateInRange:re,allowDeselect:ne,minDate:ae,maxDate:oe,locale:se},others:le}}function Pe({type:e,value:t,defaultValue:o,onChange:r,locale:a,format:n,closeOnChange:u,sortDates:d,labelSeparator:s,valueFormatter:j}){const m=V(),[D,p]=fe(!1),[i,h]=ie({type:e,value:t,defaultValue:o,onChange:r}),g=he({type:e,date:i,locale:m.getLocale(a),format:n,labelSeparator:m.getLabelSeparator(s),formatter:j}),x=c=>{u&&(e==="default"&&p.close(),e==="range"&&c[0]&&c[1]&&p.close()),h(d&&e==="multiple"?[...c].sort((P,f)=>P.getTime()-f.getTime()):c)},y=()=>x(e==="range"?[null,null]:e==="multiple"?[]:null),w=e==="range"?!!i[0]:e==="multiple"?i.length>0:i!==null;return{_value:i,setValue:x,onClear:y,shouldClear:w,formattedValue:g,dropdownOpened:D,dropdownHandlers:p}}export{z as P,je as g,we as p,Pe as u};
