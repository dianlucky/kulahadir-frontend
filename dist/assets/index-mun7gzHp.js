import{j as e,L as m,a0 as N,T as l,D as r,r as i,b as j,c as v,I as b,i as y,P as x,U as z,B as k}from"./index-D13YgGcN.js";import{I as O}from"./IconClipboardHeart-C03QD-XJ.js";import{I as T}from"./IconCashRegister-Dairmovt.js";import{I as H}from"./IconCalendar-BWQReGz9.js";import{u as S}from"./getLeave-CwACj1PL.js";import{a as C}from"./getCashAdvance-DaZoTBa0.js";import{B as w}from"./Badge-Bv-ZFimK.js";import{I as A}from"./IconChevronLeft-G5iTamZx.js";import{I as R}from"./IconAdjustments-VbMpA8DQ.js";import{S as g}from"./Select-DWS_nW1X.js";import"./Input-D0PCLz88.js";import"./CheckIcon-DUYkGu2C.js";import"./InputBase-BJOZdEhw.js";const L=()=>e.jsxs("section",{className:"p-2 flex flex-col gap-3 text-slate-600 mx-3 mt-4",children:[e.jsx("h4",{className:"text-brown",style:{fontWeight:"bold",fontSize:"15px"},children:"Data Riwayat :"}),e.jsxs(m,{to:"/history/request",className:"bg-white rounded-lg shadow-lg p-4 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx(O,{size:25,className:"text-brown"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Riwayat Izin / Sakit"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Riwayat sakit yang disetujui"})]})]}),e.jsx(N,{className:"text-brown",size:25})]}),e.jsxs(m,{to:"/history/cash-advance",className:"bg-white rounded-lg shadow-lg p-4 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx(T,{size:25,className:"text-brown"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Riwayat Kasbon"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Riwayat kasbon yang sudah disetujui"})]})]}),e.jsx(N,{className:"text-brown",size:25})]})]}),M=({requests:c,cashAdvances:n})=>e.jsx("section",{className:"bg-white mx-auto max-w-xs w-full -mt-10 shadow-lg rounded-xl z-50 relative p-2 px-2 text-slate-700 ",children:e.jsxs("div",{className:"divide-y divide-gray-300",children:[e.jsxs("div",{className:"flex justify-between text-xs items-center p-2",children:[e.jsx(l,{fw:700,c:"#654433",children:"Rekap absensi bulan ini"}),e.jsx(H,{size:22,color:"#654433"})]}),e.jsx(r,{}),e.jsxs("div",{className:"w-full grid grid-cols-5 pb-2 pt-2",children:[e.jsxs(m,{to:"#",className:"px-4 flex flex-col items-center justify-center ml-3",children:[e.jsx("div",{className:"p-2 bg-transparent text-green-600 text-2xl rounded-xl font-bold w-full h-full text-center ",children:n.filter(s=>s.status=="Accepted").length}),e.jsx("div",{className:"text-xs -mt-1 ml-6 text-center",children:"Pengajuan kasbon"})]}),e.jsx(r,{className:"flex flex-col mx-auto",orientation:"vertical"}),e.jsxs(m,{to:"#",className:"px-4 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"p-2 text-yellow-600 text-2xl  rounded-xl font-bold w-full h-full text-center ",children:c.filter(s=>s.type=="izin"&&s.status=="Accepted").length}),e.jsx("div",{className:"text-xs -mt-1 text-center",children:"Pengajuan izin"})]}),e.jsx(r,{className:"flex flex-col mx-auto",orientation:"vertical"}),e.jsxs(m,{to:"#",className:"px-4 flex flex-col items-center justify-center mr-15 -ml-2",children:[e.jsx("div",{className:"p-2 text-sky-600 text-2xl rounded-xl font-bold w-full h-full text-center ",children:c.filter(s=>s.type=="sakit"&&s.status=="Accepted").length}),e.jsx("div",{className:"text-xs -mt-1 ml-4 text-center",children:"Pengajuan sakit"})]})]}),e.jsx(r,{className:"mb-4"})]})}),ee=()=>{const[c,n]=i.useState([]),{data:s}=S();i.useEffect(()=>{s&&n(s)},[s]);const[a,t]=i.useState([]),{data:d}=C();return i.useEffect(()=>{s&&t(d)},[d]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(M,{requests:c,cashAdvances:a})}),e.jsx("div",{children:e.jsx(L,{})})]})]})},P=({cashAdvances:c,status:n})=>{const s=j();return e.jsxs(e.Fragment,{children:[c.filter(a=>a.status===n).map((a,t)=>e.jsx("button",{onClick:()=>s("/history/cash-advance/detail",{state:a}),style:{marginTop:"3px"},children:e.jsxs("section",{className:"bg-white shadow-md rounded-xl p-1",children:[e.jsxs("div",{className:"grid grid-cols-12 p-2",children:[e.jsxs("div",{className:"col-span-2 text-center",children:[e.jsx(l,{fw:"bold",size:"25px",children:v(a.date,"dd")}),e.jsx(l,{size:"13px",children:v(a.date,"MMM",{locale:y})})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"w-px h-full bg-gray-300 mx-4"})}),e.jsxs("div",{className:"col-span-9",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(w,{radius:"xs",size:"xs",color:a.status=="accepted"?"green":"red",children:a.status})}),e.jsx("div",{className:"w-full -mt-2 -ml-10",children:e.jsxs(l,{fw:"bold",size:"lg",children:["Rp. ",new Intl.NumberFormat("id-ID").format(a.amount)]})})]})]}),e.jsxs("div",{className:"-mt-1",children:[e.jsx(r,{}),e.jsx("div",{className:"w-full text-start ml-2",children:e.jsxs(l,{fw:400,size:"xs",children:["Nama pegawai : ",a.employee.name]})})]})]})},t)),c.length==0&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-xl",children:e.jsxs("div",{className:"mt-2 px-3 py-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{src:"/images/not-found.svg",style:{width:"120px"}})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(l,{fw:700,size:"md",children:"Ups!"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(l,{fw:700,size:"sm",children:"Belum ada yang disetujui"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(l,{fw:400,size:"xs",children:"Yang sabar yaa...."})})]})})]})},se=()=>{const c=j(),[n,s]=i.useState(!1),[a,t]=i.useState([]),{data:d}=C();i.useEffect(()=>{d&&t(d)},[d]);const[o,u]=i.useState("accepted"),[h,f]=i.useState("accepted");return e.jsxs("main",{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(A,{onClick:()=>{c(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown ",children:e.jsx("h2",{className:"font-semibold",children:"Riwayat kasbon"})}),e.jsx("div",{children:e.jsxs(x,{width:200,position:"bottom",withArrow:!0,shadow:"md",opened:n,closeOnClickOutside:!0,children:[e.jsx(x.Target,{children:e.jsx(z,{size:"xs",onClick:()=>s(p=>!p),children:e.jsx(R,{color:"#4E71FF"})})}),e.jsx(x.Dropdown,{children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{size:"sm",fw:"bolder",children:"Filter data"}),e.jsx(g,{label:"Status",size:"xs",value:o,onChange:u,data:[{label:"disetujui",value:"accepted"},{label:"ditolak",value:"rejected"}]})]}),e.jsx(r,{}),e.jsx("div",{children:e.jsx(k,{fullWidth:!0,size:"xs",onClick:()=>{f(o),s(!1)},children:"Simpan"})})]})})]})})]})}),e.jsx("div",{className:"mt-2 mx-6",children:e.jsx(P,{status:h,cashAdvances:a})})]})},q=({leaveRequests:c,type:n,status:s})=>{const a=j();return console.log("Tipe :",n),console.log("Status :",s),e.jsxs(e.Fragment,{children:[c.length!=0&&c.filter(t=>(s===null||t.status===s)&&(n==="all"||t.type===n)).map((t,d)=>e.jsx("button",{onClick:()=>a("/leave-request/detail",{state:{data:t}}),children:e.jsxs("section",{className:"bg-white shadow-md rounded-2xl p-3 mt-2",children:[e.jsxs("div",{className:"grid grid-cols-12 px-2 mb-2",children:[e.jsxs("div",{className:"col-span-1 text-center",children:[e.jsx(l,{fw:"bold",size:"30px",children:"1"}),e.jsx(l,{size:"12px",children:"Hari"})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"w-px h-full bg-gray-300 mx-4"})}),e.jsxs("div",{className:"col-span-10",children:[e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(w,{radius:"xs",size:"xs",color:t.type=="sakit"?"yellow":"blue",children:t.type}),e.jsx(w,{radius:"xs",size:"xs",color:t.status=="pending"?"grey":t.status=="accepted"?"green":"red",children:t.status})]}),e.jsx("div",{className:"text-center mt-1 mb-1",children:e.jsx(l,{fw:"bold",size:"18px",children:t.date&&v(t.date,"EEEE, dd MMMM yyyy",{locale:y})})})]})]}),e.jsx(r,{}),e.jsx("div",{className:"w-full px-2 mt-1 text-start",children:e.jsxs(l,{size:"xs",children:["Nama pegawai : ",t.employee.name]})})]})},d)),c.filter(t=>t.status==="accepted"||t.status==="rejected").length==0&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-xl",children:e.jsxs("div",{className:"mt-2 px-3 py-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{src:"/images/not-found.svg",style:{width:"120px"}})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(l,{fw:700,size:"md",children:"Ups!"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(l,{fw:700,size:"sm",children:"Belum ada yang disetujui"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(l,{fw:400,size:"xs",children:"Yang sabar yaa...."})})]})})]})},te=()=>{const c=j(),[n,s]=i.useState(!1),[a,t]=i.useState([]),{data:d}=S();i.useEffect(()=>{t(d||[])},[d]);const[o,u]=i.useState("sakit"),[h,f]=i.useState("accepted"),[p,I]=i.useState("sakit"),[D,E]=i.useState("accepted");return e.jsxs("main",{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(A,{onClick:()=>{c(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown ",children:e.jsx("h2",{className:"font-semibold",children:"Riwayat izin / sakit pegawai"})}),e.jsx("div",{children:e.jsxs(x,{width:200,position:"bottom",withArrow:!0,shadow:"md",opened:n,closeOnClickOutside:!0,children:[e.jsx(x.Target,{children:e.jsx(z,{size:"xs",onClick:()=>s(F=>!F),children:e.jsx(R,{color:"#4E71FF"})})}),e.jsx(x.Dropdown,{children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(l,{size:"sm",fw:"bolder",children:"Filter data"}),e.jsx(r,{className:"mb-1"}),e.jsx(g,{label:"Tipe",size:"xs",value:o,onChange:u,data:[{label:"izin",value:"izin"},{label:"sakit",value:"sakit"},{label:"semua",value:"all"}],allowDeselect:!1}),e.jsx(g,{label:"Status",size:"xs",value:h,onChange:f,data:[{label:"disetujui",value:"accepted"},{label:"ditolak",value:"rejected"}],allowDeselect:!1})]}),e.jsx(r,{}),e.jsx("div",{children:e.jsx(k,{fullWidth:!0,size:"xs",onClick:()=>{I(o),E(h),s(!1)},children:"Simpan"})})]})})]})})]})}),e.jsx("div",{className:" mx-6",children:e.jsx(q,{leaveRequests:a,type:p,status:D})})]})};export{P as HistoryCashAdvanceList,se as HistoryCashAdvancePageOwner,L as HistoryMenu,ee as HistoryPageOwner,q as HistoryRequestList,te as HistoryRequestPageOwner,M as OwnerRecap};
