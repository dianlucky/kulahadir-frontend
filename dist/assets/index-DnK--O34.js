import{b as v,j as e,T as t,c as j,D as x,I as E,i as h,h as k,r as l,P as o,U as T,B as C}from"./index-CR13SSJV.js";import{B as p}from"./Badge-dBh6rVYp.js";import{u as M}from"./getLeaveRequest-DxyhJKRK.js";import{I as B}from"./IconChevronLeft-tQiKy0Uz.js";import{I}from"./IconAdjustments-whP-kNKN.js";import{S as f}from"./Select-BflmVssB.js";import"./Input-BhoscLTx.js";import"./CheckIcon-GB-FFuSo.js";import"./InputBase-DNivpRap.js";const D=({leaveRequests:a,type:i,status:c})=>{const d=v();return console.log("Tipe :",i),console.log("Status :",c),e.jsxs(e.Fragment,{children:[a.length!=0&&a.filter(s=>(c===null||s.status===c)&&(i==="all"||s.type===i)).map((s,n)=>e.jsx("button",{onClick:()=>d("/leave-request/detail",{state:{data:s}}),children:e.jsxs("section",{className:"bg-white shadow-md rounded-2xl p-3 mt-2",children:[e.jsxs("div",{className:"grid grid-cols-12 px-2 mb-2",children:[e.jsxs("div",{className:"col-span-1 text-center",children:[e.jsx(t,{fw:"bold",size:"30px",children:"1"}),e.jsx(t,{size:"12px",children:"Hari"})]}),e.jsx("div",{className:"col-span-1",children:e.jsx("div",{className:"w-px h-full bg-gray-300 mx-4"})}),e.jsxs("div",{className:"col-span-10",children:[e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(p,{radius:"xs",size:"xs",color:s.type=="sakit"?"yellow":"blue",children:s.type}),e.jsx(p,{radius:"xs",size:"xs",color:s.status=="pending"?"grey":s.status=="accepted"?"green":"red",children:s.status})]}),e.jsx("div",{className:"text-center mt-1 mb-1",children:e.jsx(t,{fw:"bold",size:"18px",children:s.date&&j(s.date,"EEEE, dd MMMM yyyy",{locale:h})})})]})]}),e.jsx(x,{}),e.jsx("div",{className:"w-full px-2 mt-1 text-start",children:e.jsxs(t,{size:"xs",children:["Tanggal pengajuan :"," ",s.created_at&&j(s.created_at,"EEEE, dd MMMM yyyy",{locale:h})]})})]})},n)),a.filter(s=>s.status==="accepted"||s.status==="rejected").length==0&&e.jsx("div",{className:"bg-white shadow-sm p-4 rounded-xl",children:e.jsxs("div",{className:"mt-2 px-3 py-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(E,{src:"/images/not-found.svg",style:{width:"120px"}})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(t,{fw:700,size:"md",children:"Ups!"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(t,{fw:700,size:"sm",children:"Belum ada yang disetujui"})}),e.jsx("div",{className:"flex justify-center -mt-1",children:e.jsx(t,{fw:400,size:"xs",children:"Yang sabar yaa...."})})]})})]})},_=()=>{const{creds:a}=k(),i=v(),[c,d]=l.useState(!1),[s,n]=l.useState([]),{data:r}=M(a==null?void 0:a.employee_id);l.useEffect(()=>{n(r||[])},[r]);const[m,g]=l.useState("sakit"),[u,y]=l.useState("accepted"),[b,w]=l.useState("sakit"),[N,z]=l.useState("accepted");return e.jsxs("main",{children:[e.jsx("section",{className:"w-full h-20 bg-brown rounded-b-3xl"}),e.jsx("section",{className:"bg-white mx-5 p-3 shadow-md rounded-lg flex flex-col gap-2 -mt-10",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx(B,{onClick:()=>{i(-1)},size:21,className:"font-bold rounded-md"})}),e.jsx("div",{className:"font-semibold text-brown ",children:e.jsx("h2",{className:"font-semibold",children:"Riwayat izin / sakit"})}),e.jsx("div",{children:e.jsxs(o,{width:200,position:"bottom",withArrow:!0,shadow:"md",opened:c,closeOnClickOutside:!0,children:[e.jsx(o.Target,{children:e.jsx(T,{size:"xs",onClick:()=>d(S=>!S),children:e.jsx(I,{color:"#4E71FF"})})}),e.jsx(o.Dropdown,{children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(t,{size:"sm",fw:"bolder",children:"Filter data"}),e.jsx(x,{className:"mb-1"}),e.jsx(f,{label:"Tipe",size:"xs",value:m,onChange:g,data:[{label:"izin",value:"izin"},{label:"sakit",value:"sakit"},{label:"semua",value:"all"}],allowDeselect:!1}),e.jsx(f,{label:"Status",size:"xs",value:u,onChange:y,data:[{label:"disetujui",value:"accepted"},{label:"ditolak",value:"rejected"}],allowDeselect:!1})]}),e.jsx(x,{}),e.jsx("div",{children:e.jsx(C,{fullWidth:!0,size:"xs",onClick:()=>{w(m),z(u),d(!1)},children:"Simpan"})})]})})]})})]})}),e.jsx("div",{className:" mx-6",children:e.jsx(D,{leaveRequests:s,type:b,status:N})})]})};export{D as HistoryRequestList,_ as HistoryRequestPage};
